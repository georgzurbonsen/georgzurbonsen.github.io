<!DOCTYPE html>
<html lang="en-US">	

<head>
<meta charset="utf-8"/>
<title>B4P Reference</title>
<link rel="stylesheet" href="styles.css">
</head>


<div class="wrapper">

<div class="logo">
<a href="index.html">
<img src="Images/B4P_Logo.png" alt="B4P">
</a>
</div>

<div class="header">
<h3>deep, deepr</h3>
<a accesskey="p" href="LIB_Function_call.html"><span>Prev</span></a> <a accesskey="n" href="LIB_Function_exec.html"><span>Next</span></a> 
</div>

<section>
	<div class="nav">
   <script async src="https://cse.google.com/cse.js?cx=f4e0235c99c277574"></script>
   <div id="cse" style="width: 240px; margin: 0 auto text-align: left" >
       <div class="gcse-search","noframe"></div>
   </div>
<div class="booktitle_field">Function Library Guide</div>
<ul>
<li class="navi"><a href="GUI_Features_User_Guide.html"><div class="navi"> &#8594; User Guide </div></a></li>
<li class="navi"><a href="LAN_Features_Language_Guide.html"><div class="navi"> &#8594; Language Guide </div></a></li>
<li class="navi"><a href="LIB_Features_Table_of_Contents.html"><div class="navi"> Table of Contents </div></a></li>
<li class="navi"><a href="LIB_Features_Function_Library.html"><div class="navi">1 Function Library </div></a></li>
<li class="navi"><a href="LIB_Features_Control_flow_functions.html"><div class="navi">2 Control Flow Functions </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="LIB_Features_Branches.html"><div class="navi">+ 2.1 Branches </div></a></li>
<li class="navi"><a href="LIB_Features_Loops.html"><div class="navi">+ 2.2 Loops </div></a></li>
<li class="navi"><a href="LIB_Features_User-defined_procedures_and_functions.html"><div class="navi">+ 2.3 User-Defined Procedures and Functions </div></a></li>
<li class="navi"><a href="LIB_Features_Launch_other_B4P_programs.html"><div class="navi">+ 2.4 Launch other B4P programs </div></a></li>
<li class="navi"><a href="LIB_Features_Exception_functions.html"><div class="navi">+ 2.5 Exception Functions </div></a></li>
<li class="navi"><a href="LIB_Features_Comparison_and_selection_functions.html"><div class="navi">+ 2.6 Comparison and Selection Functions </div></a></li>
<li class="navi"><a href="LIB_Features_Code_Execution_Functions.html"><div class="navi">2.7 Code Execution Functions </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="LIB_Function_call.html"><div class="navi">2.7.1 call </div></a></li>
<li class="navi"><a href="LIB_Function_deep.html"><div class="navi navi-selected">2.7.2 deep, deepr </div></a></li>
<li class="navi"><a href="LIB_Function_exec.html"><div class="navi">2.7.3 exec </div></a></li>
<li class="navi"><a href="LIB_Function_calc.html"><div class="navi">2.7.4 calc </div></a></li>
<li class="navi"><a href="LIB_Function_compare.html"><div class="navi">2.7.5 compare </div></a></li>
<li class="navi"><a href="LIB_Function_assign.html"><div class="navi">2.7.6 assign </div></a></li>
</ul></li>
</ul></li>
<li class="navi"><a href="LIB_Features_Console_I_O_Functions.html"><div class="navi">+ 3 Console I/O Functions </div></a></li>
<li class="navi"><a href="LIB_Features_Type_Conversion_Functions.html"><div class="navi">+ 4 Type Conversion and Formatting </div></a></li>
<li class="navi"><a href="LIB_Features_Mathematics_and_Statistics.html"><div class="navi">+ 5 Mathematics and Statistics </div></a></li>
<li class="navi"><a href="LIB_Features_string_functions.html"><div class="navi">+ 6 String Functions </div></a></li>
<li class="navi"><a href="LIB_Features_date_and_time_functions.html"><div class="navi">+ 7 Date and Time Functions </div></a></li>
<li class="navi"><a href="LIB_Features_parameter_set_functions.html"><div class="navi">+ 8 Parameter Set Functions </div></a></li>
<li class="navi"><a href="LIB_Features_table_functions.html"><div class="navi">+ 9 Table Functions </div></a></li>
<li class="navi"><a href="LIB_Features_variables_functions.html"><div class="navi">+ 10 Variables Functions </div></a></li>
<li class="navi"><a href="LIB_Features_directory_and_file_system_functions.html"><div class="navi">+ 11 Directory and File System Functions </div></a></li>
<li class="navi"><a href="LIB_Features_system_functions.html"><div class="navi">+ 12 System Functions </div></a></li>
<li class="navi"><a href="LIB_Features_help_and_support_functions.html"><div class="navi">+ 13 Help and Support Functions </div></a></li>
<li class="navi"><a href="LIB_Features_Cross-functional_info.html"><div class="navi">+ 14 Cross-Functional Info </div></a></li>
<li class="navi"><a href="LIB_Features_Index.html"><div class="navi">15 Index </div></a></li>
</ul>
	</div>

	<div class="article">
<h4> Function Names</h4>
<div class="white_background_color" ><code>deep, deepr</code></div>
<h4> Description</h4>
<p>
These functions complement the __deep operators (e.g. +^) where the specified function will be applied on all elements in the parameter sets provided.
The depth is also adjustable and is by default 1 (corresponding to operators like +^), but can also be increased (e.g. 2 corresponding  to +^^)
to process contents in 2-dimensinoal matrices.
<br><br>
Restrictions:<br>
</p><ul class="bullets"><li class="bullets">No flow control functions
</li><li class="bullets">Functions taking code pieces must take them as strings.  The variables in the code piece are used as given (no deep operations).
</li><li class="bullets">For functions with I/O parameters, e.g. exchange(), the function itself will be called successfully, but resulting parameters will not be written back.
</li></ul><p>Allowed: User defined functions.
<br><br>
The differences in the functions deep and deepr come into effect if the size of the parameter sets are different so the remaining elements in the shorter sets
need to be repeated or padded with 0 or 1 as long they are not treated as scalars:
<br><br>
<b>deep</b>:  Elements are padded with 0 or, if 4th parameter (padding) is available, with the padding value.  Example: <b>{1,2} --> {1,2,0,0,0,0}</b> if largest parameter has 6 elements<br>
<b>deepr</b>: Elements are repeated over and over again^.  Example: <b>{1,2} --> {1,2,1,2,1,2}</b> if largest parameter has 6 elements.  If the number of elements is 0, then padding is used (see <b>deep</b>).
</p>
<h4> Call as: <span class="black_text">procedure or function</span></h4>
<h4> Restrictions</h4>
<p>Indirect parameter passing is disabled<br/>
Limited choice of function names, see above</p>
<h4> Parameter count</h4>
<p>2, 4</p>
<h4> Parameters</h4>
<table class="simple"><col style = "width:80px"><col style = "width:120px"><col style = "width:800px"><tr><th>No.</th><th>Type</th><th>Description</th></tr>
<tr><td>1<br/>input</td>
<td>literal</td>
<td><b>Function name</b><br/><p>The name must refer to an existing B4P or user-defined function.</p>
</td></tr>
<tr><td>2<br/>input</td>
<td>parameter set</td>
<td><b>Function parameters</b><br/><p>At least one element in this parameter set must in turn be a parameter set which will be processed individually.</p>
</td></tr>
<tr><td>Opt. 3<br/>input</td>
<td>numeral</td>
<td><b>Depth</b><br/><p>The name must refer to an existing B4P or user-defined function.</p>
</td></tr>
<tr><td>Opt. 4<br/>input</td>
<td>valid types</td>
<td><b>Padding value</b><br/><p>This value will be used to fill up parameter sets so the number of elements are the same before processing them</p>
<span class="black_text"><b> Default value: </b></span>0
</td></tr>
</table>
<h4> Return value</h4>
<table class="simple"><col style = "width:120px"><col style = "width:880px"><tr><th>Type</th><th>Description</th></tr>
<tr>
<td>all types</td>
<td><b>Return value</b><br/><p>It is the return value as provided by the specified target function</p></td></tr>
</table>
<h4> Examples</h4>
<div class="code_background_color" ><code>&nbsp;&nbsp;echo(new line, "Processing 2 vectors of equal sizes:");<br/>
&nbsp;&nbsp;a[] = {1..6};&nbsp;&nbsp;b[] = 7 -^ a[];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Output: b[] contains {6,5,4,3,2,1}<br/>
<br/>
&nbsp;&nbsp;echo( deep ( sum, {a[], b[]} ) );&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// {7,7,7,7,7,7}<br/>
&nbsp;&nbsp;echo( deepr( sum, {a[], b[]} ) );&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// {7,7,7,7,7,7}<br/>
<br/>
&nbsp;&nbsp;echo(new line, "Processing 1 vector and 1 scalar:");<br/>
&nbsp;&nbsp;a[] = {1..6};&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Output:<br/>
&nbsp;&nbsp;echo( deep( sum, {a[], 10} ) );&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// {11,12,13,14,15,16}, same also for deepr<br/>
&nbsp;&nbsp;echo( deep( sum, {20, a[]} ) );&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// {21,22,23,24,25,26}, same also for deepr<br/>
<br/>
<br/>
&nbsp;&nbsp;echo(new line, "Processing with 2 vectors of different sizes:", new line,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Shorter vectors are extended to match length of longest one:");<br/>
&nbsp;&nbsp;a[] = {1..6};&nbsp;&nbsp;b[] = {10,20};&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Output:<br/>
<br/>
&nbsp;&nbsp;echo( deep ( sum, {a[], b[]} ) );&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// {11,22,3,4,5,6}&nbsp;&nbsp;(shorter vector padded with 0)<br/>
&nbsp;&nbsp;echo( deep ( sum, {a[], b[]}, 1, 0) );&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// {11,22,3,4,5,6}&nbsp;&nbsp;(shorter vector padded with 0)<br/>
&nbsp;&nbsp;echo( deep ( sum, {a[], b[]}, 1, 1) );&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// {11,22,4,5,6,7}&nbsp;&nbsp;(shorter vector padded with 1)<br/>
&nbsp;&nbsp;echo( deepr( sum, {a[], b[]} ) );&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// {11,22,13,24,15,26} (shorter vector repeated)<br/>
<br/>
&nbsp;&nbsp;echo( deep ( product, {a[], b[]} ) );&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// {10,40,0,0,0,0}<br/>
&nbsp;&nbsp;echo( deep ( product, {a[], b[]}, 1, 0 ) );&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// {10,40,0,0,0,0}<br/>
&nbsp;&nbsp;echo( deep ( product, {a[], b[]}, 1, 1 ) );&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// {10,40,3,4,5,6}<br/>
&nbsp;&nbsp;echo( deepr( product, {a[], b[]} ) );&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// {10,40,30,80,50,120}<br/>
<br/>
&nbsp;&nbsp;echo(new line, "Example with 3 vectors of different sizes:");<br/>
&nbsp;&nbsp;a[]={1}; b[]={10,11}; c[]={100,101,102};&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Output<br/>
&nbsp;&nbsp;echo( deep ( sum, {a[],b[],c[]} ) );&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// {111,112,102}<br/>
&nbsp;&nbsp;echo( deep ( sum, {a[],b[],c[]}, 1, 1 ) );&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// {111,113,104}<br/>
&nbsp;&nbsp;echo( deepr( sum, {a[],b[],c[]} ) );&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// {111,113,113}<br/>
<br/>
&nbsp;&nbsp;echo(new line, "Example with 2-dimensional Vectors:");<br/>
&nbsp;&nbsp;a[] = {{1..5},{11..15},{21..25}};<br/>
&nbsp;&nbsp;b[] = a[]*^^2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// b[] contains {{2,4,6,8,10},… } all values doubled<br/>
&nbsp;&nbsp;echo( deep( sum, {a[], 1}, 2 ) );&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// {{2,3,4,5,6},{12,13,14,15,16},{22,23,24,25,26}}<br/>
&nbsp;&nbsp;echo( deep( sum, {a[], {1,2,3}},2 ) );&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// {{2,3,4,5,6},{13,14,15,16,17},{24,25,26,27,28}}<br/>
&nbsp;&nbsp;echo( deep( sum, {a[],b[]}, 2) );&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// {{3,6,9,12,15},{33,36,39,42,45},{63,66,69,72,75}}</code></div>
<h4> Output</h4>
<div class="output_background_color" ><code>Processing 2 vectors of equal sizes:<br>{7,7,7,7,7,7}<br>{7,7,7,7,7,7}<br><br>Processing 1 vector and 1 scalar:<br>{11,12,13,14,15,16}<br>{21,22,23,24,25,26}<br><br>Processing with 2 vectors of different sizes:<br>Shorter vectors are extended to match length of longest one:<br>{11,22,3,4,5,6}<br>{11,22,3,4,5,6}<br>{11,22,4,5,6,7}<br>{11,22,13,24,15,26}<br>{10,40,0,0,0,0}<br>{10,40,0,0,0,0}<br>{10,40,3,4,5,6}<br>{10,40,30,80,50,120}<br><br>Example with 3 vectors of different sizes:<br>{111,112,102}<br>{111,113,104}<br>{111,113,113}<br><br>Example with 2-dimensional Vectors:<br>{{2,3,4,5,6},{12,13,14,15,16},{22,23,24,25,26}}<br>{{2,3,4,5,6},{13,14,15,16,17},{24,25,26,27,28}}<br>{{3,6,9,12,15},{33,36,39,42,45},{63,66,69,72,75}}<br></code></div><u>Try it yourself:</u> Open <b>LIB_Function_deep.b4p</b> in <a class="bold_text" href="B4P_Examples.zip">B4P_Examples.zip</a>. Decompress before use.
<h4> See also</h4>
<p><a class = "bold_text" href="LIB_Function_call.html">call</a></p>
	</div>
</section>

<div class="footer">
Copyright (C) 2007 - 2021 Georg zur Bonsen, All Rights Reserved
</div>

</div>

</html>	


