<!DOCTYPE html>
<html lang="en-US">	

<head>
<meta charset="utf-8"/>
<title>B4P Reference</title>
<link rel="stylesheet" href="styles.css">
</head>


<div class="wrapper">

<div class="logo">
<a href="index.html">
<img src="Images/B4P_Logo.png" alt="B4P">
</a>
</div>

<div class="header">
<h3>B - Clean</h3>
<a accesskey="p" href="GUI_Features_Import_source_data.html"><span>Prev</span></a> <a accesskey="n" href="GUI_Features_Validate_and_Explore.html"><span>Next</span></a> 
</div>

<section>
	<div class="nav">

<ul>
<li class="navi"><a href="MAS_Features_Introduction.html"><div class="navi"> Introduction </div></a></li>
<li class="navi"><a href="TAB_Features_Workflow.html"><div class="navi"> Workflow </div></a></li>
<li class="navi"><a href="GUI_Features_User_Guide.html"><div class="navi navi-selected"> User Guide </div></a></li>
<li class="navi"><a href="LAN_Features_Language_Guide.html"><div class="navi"> Language Guide </div></a></li>
<li class="navi"><a href="LIB_Features_Function_Library.html"><div class="navi"> Function Library </div></a></li>
<li class="navi"><div> <hr> </div></li>
<li class="navi"><a href="GUI_Features_Index.html"><div class="navi"> Index </div></a></li>
<li class="navi"><div> <hr> </div></li>
<li class="navi"><a href="GUI_Features_Table_of_Contents.html"><div class="navi"> Table of Contents </div></a></li>
<li class="navi"><a href="GUI_Features_User_Guide.html"><div class="navi"> User Guide </div></a></li>
<li class="navi"><a href="GUI_Features_Installation.html"><div class="navi">+  Installation </div></a></li>
<li class="navi"><a href="GUI_Features_Getting_Started.html"><div class="navi">+  Getting Started </div></a></li>
<li class="navi"><a href="GUI_Features_interactive_mode.html"><div class="navi">+  Interactive Mode </div></a></li>
<li class="navi"><a href="GUI_Features_Workflow_Steps.html"><div class="navi"+>-  Workflow Steps </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="GUI_Features_Import_source_data.html"><div class="navi">    A - Import </div></a></li>
<li class="navi"><a href="GUI_Features_Clean_Data.html"><div class="navi navi-selected">    B - Clean </div></a></li>
<li class="navi"><a href="GUI_Features_Validate_and_Explore.html"><div class="navi">    C - Validate </div></a></li>
<li class="navi"><a href="GUI_Features_Merge_and_Consolidate.html"><div class="navi">    D - Merge </div></a></li>
<li class="navi"><a href="GUI_Features_Enrichment.html"><div class="navi">    E - Augment </div></a></li>
<li class="navi"><a href="GUI_Features_Align_and_Process.html"><div class="navi">    F - Analyze </div></a></li>
<li class="navi"><a href="GUI_Features_Format_the_results.html"><div class="navi">    G - Format </div></a></li>
<li class="navi"><a href="GUI_Features_Save_and_Export.html"><div class="navi">    H - Export </div></a></li>
<li class="navi"><a href="GUI_Features_The_Whole_Program.html"><div class="navi">    The Whole Program </div></a></li>
</ul></li>
<li class="navi"><a href="GUI_Features_Examples.html"><div class="navi">+  Examples </div></a></li>
<li class="navi"><a href="GUI_Features_Release_History.html"><div class="navi">+  Release History </div></a></li>
</ul></li>
</ul>
	</div>

	<div class="article">
<h4> Overview</h4>
<p>
Most data obtained from database and external sources are not in the right format so you can start processing and
analyzing the contents.  Typical issues include, bugt are not limited to:

</p><ul class="bullets"><li class="bullets">The table of interest does not begin at the top and needs to be moved up or extracted, with garbage around it removed
</li><li class="bullets">Non-ANSI spaces, e.g. non-break-spaces are used
</li><li class="bullets">Unnecessary or empty rows and columns
</li><li class="bullets">Contents contain leading and/or trailing spaces
</li><li class="bullets">Numbers contain distracting formatting, e.g. <i>CHF 1'200,- </i>
</li><li class="bullets">Incomplete and ambiguous dates, e.g. what is <i>"02/09/24"</i>?
</li><li class="bullets">Header names different in similar tables from different sources and along the timeline
</li><li class="bullets">Some contents are properly capitalized, other are not.
</li></ul><p>
B4P provides rich set of functions which allows you to prepare and clean the data

<br><br></p>
<h4> Cleaning Columns and Headers</h4>
<p>
<hr>
</p><table class="noframe" style = "width:1000px"><col style = "width:250px"><col style = "width:750px">
<tr><td><a class="bold_text" href="LIB_Function_table_lift_header_row.html">table lift header row</a>()             </td><td> Identify the header row, then lift the header row to top row, with data blow moving up, too.</td></tr>
<tr><td><a class="bold_text" href="LIB_Function_table_rename_headers.html">table rename headers</a>()              </td><td> Rename table headers.</td></tr>
<tr><td><a class="bold_text" href="LIB_Function_table_correct_headers.html">table correct headers</a>()             </td><td> Correct the header names if wrong.  Do nothing if OK.  Useful to eliminate spelling and upper/lower case issues.</td></tr>
<tr><td><a class="bold_text" href="LIB_Function_table_insert_columns.html">table insert columns</a>()              </td><td> Introduce additional columns.</td></tr>
<tr><td><a class="bold_text" href="LIB_Function_table_insert_columns.html">table insert missing columns</a>()      </td><td> Introduce additional columns if missing, otherwise do nothing.</td></tr>
<tr><td><a class="bold_text" href="LIB_Function_table_delete_columns.html">table delete columns</a>()              </td><td> Delete columns not needed.</td></tr>
<tr><td><a class="bold_text" href="LIB_Function_table_keep_columns.html">table keep columns</a>()                </td><td> Keep specified columns and delete the other columns.</td></tr>
</table><p>
<hr><br>
</p>
<h4> Cleaning Rows</h4>
<p>
<hr>
</p><table class="noframe" style = "width:1000px"><col style = "width:250px"><col style = "width:750px">
<tr><td><a class="bold_text" href="LIB_Function_table_delete_blank_rows.html">table delete blank rows</a>()           </td><td> Remove all blank rows.</td></tr>
<tr><td><a class="bold_text" href="LIB_Function_table_delete_rows.html">table delete rows</a>()                 </td><td> Remove 1 or more rows using a specified row number.</td></tr>
<tr><td><a class="bold_text" href="LIB_Function_table_delete_remaining_rows.html">table delete remaining rows</a>()      </td><td> Delete remaining rows below a specified row number.  Various functions are available to search for the end of                                                   the table and obtain the row number automatically, for example with <a class="bold_text" href="LIB_Function_table_search_row.html">table search row</a>().</td></tr>
<tr><td><a class="bold_text" href="LIB_Function_table_keep_selected_rows.html">table keep selected rows</a>()          </td><td> Keep selected rows matching the condition specified.</td></tr>
<tr><td><a class="bold_text" href="LIB_Function_table_delete_selected_rows.html">table delete selected rows</a>()        </td><td> The opposite.</td></tr>
</table><p>
<hr><br>
</p>
<h4> Cleaning Contents</h4>
<p>
<hr>
</p><table class="noframe" style = "width:1000px"><col style = "width:250px"><col style = "width:750px">
<tr><td><a class="bold_text" href="LIB_Function_table_clean.html">table clean</a>()                      </td><td> General replacement of exotic spaces and line breaks in the UNICODE space to the familar spaces and 'new line',                                                 and trimming options for white spaces and line breaks.</td></tr>
<tr><td><a class="bold_text" href="LIB_Function_clean_num.html">clean num</a>()                                </td><td> Cleans numbers by removing distracting symbols such as 1000-separators, currency symbols, etc.                                                  Numbers in parentheses are treated as negative numbers, e.g. <b>(1200)</b> changes to -1200 .</td></tr>
<tr><td><a class="bold_text" href="LIB_Function_table_process.html">table process selected rows</a>()       </td><td> General-purpse function call to process table rows and contents without need to specify loops and variables</td></tr>
<tr><td><a class="bold_text" href="LIB_Function_table_process_cells.html">table process cells</a>()               </td><td> General-purpose function to process all table cells: Example: <a class="bold_text" href="LIB_Function_table_process_cells.html">table process cells</a><b>( [.] = <a class="bold_text" href="LIB_Function_trim.html">trim</a>([.]) );</b></td></tr>
</table><p>
<hr><br></p>
<h4> Wikipedia Example (continued from step 1)</h4>
<p>
The file downloaded from Wikipedia does indeed need some cleanup.

</p><ul class="bullets"><li class="bullets">Remove all dangling and redundant spaces in both tables.
</li><li class="bullets">Remove the summary row for the whole world
</li><li class="bullets">Exotic space characters are converted to standard space characters.
</li><li class="bullets">Elimnate the footnote references
</li><li class="bullets">In table c1, remove the last row as it repeats the header row
</li></ul><p>
<br><br>
</p>
<h5> Simple Example</h5>
<div class="code_background_color" ><code><br/>
table clean&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( c1 );<br/>
table delete selected rows&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( c1, [0]='',Erde );&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Remove blank and summary rows<br/>
table process all cells&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( c1, [.] = left( [.], '[' ) ); // Remove cited references<br/>
table delete rows&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( c1, -1 );&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Delete last row (bottom header row - repeated)<br/>
<br/>
table clean&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( c2, trim spaces );<br/>
table delete selected rows&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( c2, [0]='',World );&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Remove blank and summary rows<br/>
table process all cells&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( c2, [.] = left( [.], '[' ) ); // Remove cited references<br/>
<br/>
echo( "Table C2: ");<br/>
table list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( c2, briefly, 4, last col, 2 ); // List just 3 columns and first and last 4 rows<br/>
</code></div>
<h5> The table has been cleaned up.</h5>
<div class="output_background_color" ><code>Table C2: <br>&nbsp;&nbsp;&nbsp;&nbsp;0 : Country or territory&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| Population (1 July 2022) | Population (1 July 2023)<br>&nbsp;&nbsp;&nbsp;&nbsp;1 : India&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 1,425,423,212&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 1,438,069,596&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;2 : China&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 1,425,179,569&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 1,422,584,933&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;3 : United States&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 341,534,046&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 343,477,335&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;4 : Indonesia&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 278,830,529&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 281,190,067&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;... :<br>&nbsp;&nbsp;234 : Falkland Islands (United Kingdom) | 3.490&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 3.477&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;235 : Tokelau (New Zealand)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 2.290&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 2.397&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;236 : Niue (New Zealand)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 1.821&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 1.817&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;237 : Vatican City&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 505&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 496&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><br></code></div><u>Try it yourself:</u> Open <b>GUI_Features_Clean_Data.b4p</b> in <a class="bold_text" href="B4P_Examples.zip">B4P_Examples.zip</a>. Decompress before use.
	</div>
</section>

<div class="footer">
Copyright (C) 2007 - 2025 Georg A. zur Bonsen, All Rights Reserved
</div>

</div>

</html>	

