<!DOCTYPE html>
<html lang="en-US">	

<head>
<meta charset="utf-8"/>
<title>Beyond 4P Reference</title>
<link rel="stylesheet" href="styles.css">
</head>


<div class="wrapper">

<div class="logo">
<a href="index.html">
<img src="Images/Beyond4P_Logo.jpg" alt="Beyond4P">
</a>
</div>

<div class="header">
<h3>define procedure / function</h3>
prev  next
</div>

<section>
	<div class="nav">
<ul>
<li class="navi"><a href="Features_Table_of_Contents.html"><span>1 Table of Contents </span></a></li>
<li class="navi"><a href="Features_starting.html"><span>2 Starting B4P </span></a></li>
<li class="navi"><ul>
<li class="navi"><a href="Features_interactive.html"><span>2.1 Interactive Mode </span></a></li>
<li class="navi"><a href="Features_licensing.html"><span>2.2 Licensing </span></a></li>
</ul></li>
<li class="navi"><a href="Features_introduction.html"><span>3 Introduction </span></a></li>
<li class="navi"><ul>
<li class="navi"><a href="Features_UNICODE_character_set.html"><span>+ 3.1 UNICODE Character Set </span></a></li>
<li class="navi"><a href="Features_data_types.html"><span>+ 3.2 Basic Data Types </span></a></li>
<li class="navi"><a href="Features_variables.html"><span>+ 3.3 Variables </span></a></li>
<li class="navi"><a href="Features_comments.html"><span>3.4 Comments </span></a></li>
<li class="navi"><a href="Features_reserved_keywords.html"><span>3.5 Reserved keywords </span></a></li>
<li class="navi"><a href="Features_path_names.html"><span>3.6 Path and File Names </span></a></li>
<li class="navi"><a href="Features_Locales.html"><span>3.7 Locales </span></a></li>
</ul></li>
<li class="navi"><a href="Features_Function_Library.html"><span>4 Function Library </span></a></li>
<li class="navi"><ul>
<li class="navi"><a href="Features_Control_Flow_Functions.html"><span>4.1 Control Flow Functions </span></a></li>
<li class="navi"><ul>
<li class="navi"><a href="Features_Loops.html"><span>+ 4.1.1 Loops </span></a></li>
<li class="navi"><a href="Features_Branches.html"><span>+ 4.1.2 Branches </span></a></li>
<li class="navi"><a href="Features_User_Defined_Procedures_and_Functiions.html"><span>4.1.3 User-Defined Procedures and Functions </span></a></li>
<li class="navi"><ul>
<li class="navi"><a href="Function_define_procedure.html"><span>4.1.3.1 define procedure / function </span></a></li>
<li class="navi"><a href="Function_define_additional_procedure.html"><span>4.1.3.2 define additional procedure / function </span></a></li>
<li class="navi"><a href="Features_user_parameter_types.html"><span>4.1.3.3 Parameter Types in User-Defined Functions </span></a></li>
<li class="navi"><a href="Function_return.html"><span>4.1.3.4 return </span></a></li>
<li class="navi"><a href="Function_function_existing.html"><span>4.1.3.5 function / user function existing </span></a></li>
<li class="navi"><a href="Function_delete_user_function.html"><span>4.1.3.6 delete user function </span></a></li>
</ul></li>
<li class="navi"><a href="Features_Start_or_include_Beyond4P_Programs.html"><span>+ 4.1.4 Start or include Beyond4P Programs </span></a></li>
<li class="navi"><a href="Features_Other_Control_Flow_Functions.html"><span>+ 4.1.5 Other Control Flow Functions </span></a></li>
</ul></li>
<li class="navi"><a href="Features_Type_Conversion_Functions.html"><span>+ 4.2 Type Conversion and Formatting Functions </span></a></li>
<li class="navi"><a href="Features_Mathematics_and_Statistics.html"><span>+ 4.3 Mathematics and Statistics </span></a></li>
<li class="navi"><a href="Features_string_functions.html"><span>+ 4.4 String Functions </span></a></li>
<li class="navi"><a href="Features_date_and_time_functions.html"><span>+ 4.5 Date and Time Functions </span></a></li>
<li class="navi"><a href="Features_parameter_set_functions.html"><span>+ 4.6 Parameter Set Functions </span></a></li>
<li class="navi"><a href="Features_table_functions.html"><span>+ 4.7 Table Functions </span></a></li>
<li class="navi"><a href="Features_directory_and_file_system.html"><span>+ 4.8 Directory and File System Functions </span></a></li>
</ul></li>
<li class="navi"><a href="Function_print.html"><span> Basic Text Output Functions </span></a></li>
<li class="navi"><a href="Function_cls.html"><span> Clear screen </span></a></li>
<li class="navi"><a href="Function_identify.html"><span> Identify variable forms (if structure, array, or simple) </span></a></li>
<li class="navi"><a href="Function_cursor.html"><span> Set cursor positions </span></a></li>
<li class="navi"><a href="Function_text_color.html"><span> Set console text and background colors </span></a></li>
</ul>
	</div>

	<div class="article">
<h4> Function Names</h4>
<code>define procedure, define function, define procedure and function</code>
<h4> Synopsis</h4>
<code>define ... ( expression, parameters ... ) { statement(s); } </code>
<h4> Description</h4>
<p><b>define procedure </b> defines a user procedure to be called as statements and without providing return values.<br/>
<b>define function </b> defines a user function which provides a return value and must be called inside an expression.<br/>
<b>define procedure and function </b> defines functions which can be called as procedures and functions as well.<br/>
<br/>
All procedures and functions can be declared with fixed or variable user-definable number of parameters.
<br/><br/>
User functions can be defined anywhere in the code, but as a good practice, do this outside the main block.
Inside the block function definition will only take place if the code runs (and not skips) over it.
You may want to use an <a class="bold_text" href="Function_if.html">if</a>() clause to define a function <i>function name</i>() either one or the other way, but be aware that presence of the function
will be checked regardless if running or skipping over it.</p>
<h4> Call as: <span class="black_text">procedure</span></h4>
<h4> Restrictions</h4>
<p>No indirect parameter passing<br/>
Unlike other flow control functions, subsequent statements must always be encapsulated in a block using braces: { statement(s); } <br/>
The subsequent code block assumes <i>local variable scope</i> related to this procedure / function whenever new variables are created.  Local variables will be discarded after returning to the caller.</p>
<h4> Parameter count: <span class="black_text">1-5</span></h4>
<h4> Parameters</h4>
<table class="simple"><col style = "width:80px"><col style = "width:120px"><col style = "width:800px"><tr><th>No.</th><th>Type</th><th>Description</th></tr>
<tr><td>1<br/>input</td>
<td>literal</td>
<td><b>New Name</b><br/><p>Give your procedure or function a new name.  Then name may consist of multpile words with spaces, e.g. <b>my sort function</b>.</p>
</td></tr>
<tr><td>Opt. 2<br/>input</td>
<td>parameter set</td>
<td><b>Parameter Declaration</b><br/><p>This 2nd parameter must be specified if the new procedure or function comes with parameters to pass through.
It must be a 2-level nested parameter set where each such parameter set declares one function parameter. The syntax is as follows:<br/>
{  { parameter name 1, parameter type 1, parameter direction 1 }, { parameter name 2, ... }, ... }<br/>
Zero parameters may also be specified as 2 nested empty sets. { { } }<br/><br/>.
<i>parameter name</i> must be a literal which uses this name to it as a locally accessible variable.  Not recommended to add '[]' at the end of the name here
because it would expect a pre-defined variable to be used as parameter name.<br/>
<i>parameter type</i> must be a literal which declares the type(s) allowed.  Both single types (e.g. numeral) as well as combined types
are supported.  See <a  href="Features_user_parameter_types.html">list of parameter types in user functions</a> for all valid types and ther functionality.<br/><br/>
<i>parameter direction</i>: One of the following:<br/>
</p><table style = "width:700px"><col style = "width:100px"><col style = "width:600px">
<tr><th>Parameter direction  </th><th>   Explanation</th></tr>
<tr><td>input                </td><td> Input parameter which may be any expression: Value, variable, table or a calculation.  Changing the value inside the user procedure / function code is allowed and has no impact outside the procedure / function.</td></tr>
<tr><td>output               </td><td> Output parameter, must be a variable or table reference.  Nonexisting variables will be initialized automatically.  The final value assigned to the variable will be written back to the variable specified as parameter, or table entry.  In the latter case, the value will be converted to literal automatically.</td></tr>
<tr><td>io                   </td><td> I/O parameter, must be a variable or table reference.  Variables specified must exist before the function call is made.  The final value assigned to the variable will be written back to the variable specified as parameter, or table entry.  In the latter case, the value will be converted to literal automatically.</td></tr>
<tr><td>reference            </td><td> Reference to variable.  In this case, the code in the defined procedure or function gets the <span class="red_text">reference</span> to the variable so the <a  href="Features_variables.html">base variable</a> and all <a  href="Features_variables.html">member variables</a> are visible and can be modified.</td></tr>
</table><p></p>
</td></tr>
<tr><td>Opt. 3<br/>input</td>
<td>numeral</td>
<td><b>Minimum Parameter Count</b><br/><p>Rules the minimum required number of parameters to be passed.  Passing the remaining parameters is optional</p>
<span class="black_text"><b> Default value: </b></span>According to number of parameter names specified
</td></tr>
<tr><td>Opt. 4<br/>input</td>
<td>numeral</td>
<td><b>Maximum Parameter Count</b><br/><p>Rules the maximum required number of parameters to be passed.  The maximum number may be higher than the number of parameter names defined.
Specify -1 if no upper limit applies.</p>
<span class="black_text"><b> Default value: </b></span>According to number of parameter names specified
</td></tr>
<tr><td>Opt. 5<br/>input</td>
<td>numeral</td>
<td><b>Repetition Count</b><br/><p>The Repetition Count specifies the number of additional parameters to be specified if variable parameter count is enabled. 1 specifes any number
is allowed between minimum and maximum number of parameters.  And if the parameter lies outside range of defiend parameter types, then the last type
appeis.  2 specifies that 2 additional parameters need to be added, and if the parameter lies outside the range of defined parameter types,
then the last two parameter types apply sequentially.  Similar rules apply to  larger numbers specified.</p>
<span class="black_text"><b> Default value: </b></span>1
</td></tr>
</table>
<h4> Exceptions</h4>
<p>Procedure or function name is already defiend</p>
<h4> Examples</h4>
<code> &nbsp; &nbsp; &nbsp;define function( my private function, { { guest name, literal }, { vegetarian, boolean } }, 2, -1, 2 )<br/>
 &nbsp; &nbsp; &nbsp;{<br/>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo( "Name of function: ", function name[] );<br/>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo( "First invited guest: ", guest name[], select if( vegetarian[], " (vegetarian menu)", " (fish menu)" ) );<br/>
<br/>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;for (i[] = 3, i[] &lt;= parameter count[], i[]+=2 ) // Additional guests<br/>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{<br/>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;name[] = ("parameter " + literal(i[] &nbsp;))[];<br/>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;vegi[] = ("parameter " + literal(i[]+1))[];<br/>
<br/>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo( "And: ", name[], select if( vegi[], " (vegetarian menu)", " (fish menu)" ) );<br/>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br/>
<br/>
<br/>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return( parameter count[] / 2 ); // Number of guests<br/>
 &nbsp; &nbsp; &nbsp;}<br/>
<br/>
<br/>
 &nbsp; &nbsp; &nbsp;guest count[] = my private function( Jim Bean, true );<br/>
 &nbsp; &nbsp; &nbsp;echo(new line, "Number of guests invited: ", guest count[], new line);<br/>
<br/>
 &nbsp; &nbsp; &nbsp;guest count[] = my private function( Jim Bean, true, Tina Turner, false, Tom Cruise, false, Amsel Adams, true );<br/>
 &nbsp; &nbsp; &nbsp;echo(new line, "Number of guests invited to bigger party: ", guest count[]); &nbsp; &nbsp; &nbsp;<br/>
 &nbsp; &nbsp; &nbsp;</code>
<h4> Output</h4>
<code>Name of function: my private function<br/>
First invited guest: Jim Bean (vegetarian menu)<br/>
<br/>
Number of guests invited: 1<br/>
<br/>
Name of function: my private function<br/>
First invited guest: Jim Bean (vegetarian menu)<br/>
And: Tina Turner (fish menu)<br/>
And: Tom Cruise (fish menu)<br/>
And: Amsel Adams (vegetarian menu)<br/>
<br/>
Number of guests invited to bigger party: 4<br/>
</code>
<h4> See also</h4>
<p><a href="Function_define_additional_procedure.html">define additional procedure</a><br/>
<a href="Function_define_additional_procedure.html">define additional function</a><br/>
<a href="Function_define_additional_procedure.html">define additional procedure and function</a></p>
	</div>
</section>

<div class="footer">
Copyright (C) 2007 - 2020 Georg zur Bonsen
</div>

</div>

</html>	


