<!DOCTYPE html>
<html lang="en-US">	

<head>
<meta charset="utf-8"/>
<title>B4P Reference</title>
<link rel="stylesheet" href="styles.css">
</head>


<div class="wrapper">

<div class="logo">
<a href="index.html">
<img src="Images/B4P_Logo.png" alt="B4P">
</a>
</div>

<div class="header">
<h3>clean num, clean if num</h3>
<a accesskey="p" href="LIB_Function_num.html"><span>Prev</span></a> <a accesskey="n" href="LIB_Function_smart_num.html"><span>Next</span></a> 
</div>

<section>
	<div class="nav">
<div class="booktitle_field">Function Library Guide</div>
<ul>
<li class="navi"><a href="LIB_Features_Table_of_Contents.html"><div class="navi"> Table of Contents </div></a></li>
<li class="navi"><a href="LIB_Features_Function_Library.html"><div class="navi">1 Function Library </div></a></li>
<li class="navi"><a href="LIB_Features_Control_flow_functions.html"><div class="navi">+ 2 Control Flow Functions </div></a></li>
<li class="navi"><a href="LIB_Features_Console_I_O_Functions.html"><div class="navi">+ 3 Console I/O Functions </div></a></li>
<li class="navi"><a href="LIB_Features_Type_Conversion_Functions.html"><div class="navi">4 Type Conversion and Formatting </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="LIB_Function_str.html"><div class="navi">+ 4.1 str, soft </div></a></li>
<li class="navi"><a href="LIB_Function_num.html"><div class="navi">4.2 num </div></a></li>
<li class="navi"><a href="LIB_Function_clean_num.html"><div class="navi navi-selected">4.3 clean num, clean if num </div></a></li>
<li class="navi"><a href="LIB_Function_smart_num.html"><div class="navi">4.4 smart num, smart if num </div></a></li>
<li class="navi"><a href="LIB_Function_date.html"><div class="navi">4.5 date, pure date, date time </div></a></li>
<li class="navi"><a href="LIB_Function_time.html"><div class="navi">4.6 time, pure time </div></a></li>
<li class="navi"><a href="LIB_Features_Detects_dates_correctly_in_strings.html"><div class="navi">4.7 Date and Time Detection Rules </div></a></li>
<li class="navi"><a href="LIB_Function_bool.html"><div class="navi">4.8 bool </div></a></li>
<li class="navi"><a href="LIB_Function_parameter_set.html"><div class="navi">4.9 parameter set </div></a></li>
<li class="navi"><a href="LIB_Function_best_type.html"><div class="navi">4.10 best type </div></a></li>
<li class="navi"><a href="LIB_Function_join.html"><div class="navi">4.11 join ... </div></a></li>
<li class="navi"><a href="LIB_Function_type.html"><div class="navi">4.12 type, subtype </div></a></li>
<li class="navi"><a href="LIB_Function_hash_signature.html"><div class="navi">4.13 hash signature </div></a></li>
<li class="navi"><a href="LIB_Function_excel_column.html"><div class="navi">4.14 excel column </div></a></li>
<li class="navi"><a href="LIB_Function_excel_coordinates.html"><div class="navi">4.15 excel coordinates </div></a></li>
<li class="navi"><a href="LIB_Function_excel_validate_sheet_name.html"><div class="navi">4.16 excel validate sheet name </div></a></li>
</ul></li>
<li class="navi"><a href="LIB_Features_Mathematics_and_Statistics.html"><div class="navi">+ 5 Mathematics and Statistics </div></a></li>
<li class="navi"><a href="LIB_Features_string_functions.html"><div class="navi">+ 6 String Functions </div></a></li>
<li class="navi"><a href="LIB_Features_date_and_time_functions.html"><div class="navi">+ 7 Date and Time Functions </div></a></li>
<li class="navi"><a href="LIB_Features_parameter_set_functions.html"><div class="navi">+ 8 Parameter Set Functions </div></a></li>
<li class="navi"><a href="LIB_Features_table_functions.html"><div class="navi">+ 9 Table Functions </div></a></li>
<li class="navi"><a href="LIB_Features_variables_functions.html"><div class="navi">+ 10 Variables Functions </div></a></li>
<li class="navi"><a href="LIB_Features_directory_and_file_system_functions.html"><div class="navi">+ 11 Directory and File System Functions </div></a></li>
<li class="navi"><a href="LIB_Features_system_functions.html"><div class="navi">+ 12 System Functions </div></a></li>
<li class="navi"><a href="LIB_Features_help_and_support_functions.html"><div class="navi">+ 13 Help and Support Functions </div></a></li>
<li class="navi"><a href="LIB_Features_Cross-functional_info.html"><div class="navi">+ 14 Cross-Functional Info </div></a></li>
<li class="navi"><div>  </div></li>
<li class="navi"><div>  </div></li>
<li class="navi"><div>  </div></li>
<li class="navi"><a href="LIB_Features_Index.html"><div class="navi"> Index </div></a></li>
<li class="navi"><div>  </div></li>
<li class="navi"><div>  </div></li>
<li class="navi"><div>  </div></li>
<li class="navi"><a href="GUI_Features_User_Guide.html"><div class="navi"> &#8594; User Guide </div></a></li>
<li class="navi"><a href="LAN_Features_Language_Guide.html"><div class="navi"> &#8594; Language Guide </div></a></li>
</ul>
	</div>

	<div class="article">
<h4> Function Names</h4>
<div class="white_background_color" ><code>clean num, clean if num</code></div>
<h4> Description</h4>
<p>
This function converts a string into numeral, including eliminating redundant contents in commercial number representations such as currency symbols
before or after themand other form of units.  Thousand separators will be removed and decimal commas will be converted to decimal points.
Minus signs both before and after the numerals will be detected.  Numbers in parentheses, e.g. (100.00) = -100 are considered negative numbers.
Scientific notation (e.g. 1.2E+03 ) is supported here.  Numerals passed as parameters into thes function will be passed through.

If the 1st parameter contains no number (e.g. letters, blanks) , then <b>clean num</b> returns 0 and <b>clean if num</b> returns the original string.
</p>
<h4> Call as: <span class="black_text">function</span></h4>
<h4> Restrictions</h4>
<p>Indirect parameter passing is disabled</p>
<h4> Parameter count</h4>
<p>1-2</p>
<h4> Parameters</h4>
<table class="simple"><col style = "width:80px"><col style = "width:120px"><col style = "width:800px"><tr><th>No.</th><th>Type</th><th>Description</th></tr>
<tr><td>1<br/>input</td>
<td>numeral or string</td>
<td><b>Value</b><br/><p>If string and containing digits: Conversion to numeral.<br>
If string and containing no digits or string is blank: Conversion to 0 (<b>clean num</b>) or string returned (function <b>clean if num</b>)
If numeral: Will be passed through.</p>
</td></tr>
<tr><td>2<br/>input</td>
<td>string</td>
<td><b>Decimal symbol</b><br/><p>Use single character symbol, e.g. '.' or ','. <br>
Specify 'local' to use currently applicable locale settings.  Examples: It chooses '.' for countries like USA, United Kingdom and Switzerland, and ',' for Germany and Austria.
</p>
<span class="black_text"><b> Default value: </b></span>. (point)
</td></tr>
</table>
<h4> Return value</h4>
<table class="simple"><col style = "width:120px"><col style = "width:880px"><tr><th>Type</th><th>Description</th></tr>
<tr>
<td>numeral<br/>string</td>
<td><b>number</b><br/><p>Contains resulting number.  Strings may be returned by the function <b>clean if num</b> if the input value contains no digits.</p></td></tr>
</table>
<h4> Examples</h4>
<div class="code_background_color" ><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo( clean num ( "EUR 1'234.50" ), " and ", clean if num ( "EUR 1'234.50" ) ); // Both 1234.5<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo( clean num ( "2,500 € " ),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" and ", clean num ( "2,500 €", ",") ); //&nbsp;&nbsp;2500 and 2.5<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo( clean num ( "2,500- € " ) ); // -2500<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo( clean num ( "-&nbsp;&nbsp;&nbsp;2,500" ),&nbsp;&nbsp;&nbsp;&nbsp;", ",&nbsp;&nbsp;&nbsp;&nbsp;clean num ( "(2,500)" ) ); //&nbsp;&nbsp;Both -2500<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo( clean num ( "[2,500]" ),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" and ", clean num ( "-[2,500]" ) ); // 2500 (brackets alone do not negate)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo( clean num ( "(EUR 1,000)" ),&nbsp;&nbsp;" and ", clean num ( "(EUR) 1,000") ); // Negation if number INSIDE parentheses<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo( clean num ( "INR 30 40 500" ) ); //&nbsp;&nbsp;3040500<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo( clean num ( ".123" ),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" and ", clean num ( ".123", "," )); // returns 0.123 and 123.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo( clean num ( "" ),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" and '",clean if num( "" ), "'" ); // returns 0 and "";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo( clean num ( "abc" ),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" and ", clean if num ( "abc" ) ); //&nbsp;&nbsp;returns 0 and abc<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo( new line, "Scientific Notations:");<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo( clean num ( 1.2E3 ), " and&nbsp;&nbsp;", clean num ( '1.2E+03' ) ); //&nbsp;&nbsp;return 1200<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo( clean num ( "1 2 E - 0 3" ) ); // returns 0.012</code></div>
<h4> Output</h4>
<div class="output_background_color" ><code>1234.5 and 1234.5<br>2500 and 2.5<br>-2500<br>-2500, -2500<br>2500 and -2500<br>-1000 and 1000<br>3040500<br>0.123 and 123<br>0 and ''<br>0 and abc<br><br>Scientific Notations:<br>1200 and&nbsp;&nbsp;1200<br>0.012<br></code></div><u>Try it yourself:</u> Open <b>LIB_Function_clean_num.b4p</b> in <a class="bold_text" href="B4P_Examples.zip">B4P_Examples.zip</a>. Decompress before use.
<h4> See also</h4>
<p><a class = "bold_text" href="LIB_Function_num.html">numeral conversion function</a><br/>
<a class = "bold_text" href="LIB_Function_smart_num.html">smart num</a><br/>
<a class = "bold_text" href="LIB_Function_smart_num.html">smart if num</a></p>
	</div>
</section>

<div class="footer">
Copyright (C) 2007 - 2021 Georg zur Bonsen, All Rights Reserved
</div>

</div>

</html>	


