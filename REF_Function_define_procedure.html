<!DOCTYPE html>
<html lang="en-US">	

<head>
<meta charset="utf-8"/>
<title>B4P Reference</title>
<link rel="stylesheet" href="styles.css">
</head>


<div class="wrapper">

<div class="logo">
<a href="index.html">
<img src="Images/B4P_Logo.png" alt="Beyond4P">
</a>
</div>

<div class="header">
<h3>define procedure / function</h3>
<a accesskey="p" href="REF_Features_User_Defined_Procedures_and_Functiions.html"><span>Prev</span></a> <a accesskey="n" href="REF_Function_define_additional_procedure.html"><span>Next</span></a> 
</div>

<section>
	<div class="nav">
<div class="booktitle_field">Reference Manual</div>
<ul>
<li class="navi"><a href="GUI_Features_Table_of_Contents.html"><div class="navi"> &#8594; User Guide </div></a></li>
<li class="navi"><a href="REF_Features_Table_of_Contents.html"><div class="navi"> Table of Contents </div></a></li>
<li class="navi"><a href="REF_Features_starting.html"><div class="navi">1 Starting B4P </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="REF_Features_interactive.html"><div class="navi">1.1 Interactive Mode </div></a></li>
<li class="navi"><a href="REF_Features_licensing.html"><div class="navi">1.2 Licensing </div></a></li>
</ul></li>
<li class="navi"><a href="REF_Features_introduction.html"><div class="navi">2 Introduction </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="REF_Features_UNICODE_character_set.html"><div class="navi">2.1 UNICODE Character Set </div></a></li>
<li class="navi"><a href="REF_Features_data_types.html"><div class="navi">2.2 Basic Data Types </div></a></li>
<li class="navi"><a href="REF_Features_variables.html"><div class="navi">2.3 Variables </div></a></li>
<li class="navi"><a href="REF_Features_comments.html"><div class="navi">2.4 Comments </div></a></li>
<li class="navi"><a href="REF_Features_reserved_keywords.html"><div class="navi">2.5 Reserved keywords </div></a></li>
<li class="navi"><a href="REF_Features_path_names.html"><div class="navi">2.6 Path and File Names </div></a></li>
<li class="navi"><a href="REF_Features_Locales.html"><div class="navi">2.7 Locales </div></a></li>
</ul></li>
<li class="navi"><a href="REF_Features_Functions_and_Procedures.html"><div class="navi">3 Functions and Procedures </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="REF_Features_Function_Parameters.html"><div class="navi">3.1 Function Parameters </div></a></li>
<li class="navi"><a href="REF_Features_Function_parameter_directions.html"><div class="navi">3.2 Function Parameter Directions </div></a></li>
<li class="navi"><a href="REF_Features_Function_parameter_types.html"><div class="navi">3.3 Function Parameter Types </div></a></li>
<li class="navi"><a href="REF_Features_Indirect_parameter_passing.html"><div class="navi">3.4 Indirect Parameter Passing </div></a></li>
</ul></li>
<li class="navi"><a href="REF_Features_Function_Library.html"><div class="navi">4 Function Library </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="REF_Features_Control_Flow_Functions.html"><div class="navi">4.1 Control Flow Functions </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="REF_Features_Loops.html"><div class="navi">4.1.1 Loops </div></a></li>
<li class="navi"><a href="REF_Features_Branches.html"><div class="navi">4.1.2 Branches </div></a></li>
<li class="navi"><a href="REF_Features_User_Defined_Procedures_and_Functiions.html"><div class="navi">4.1.3 User-Defined Procedures and Functions </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="REF_Function_define_procedure.html"><div class="navi navi-selected">4.1.3.1 define procedure / function </div></a></li>
<li class="navi"><a href="REF_Function_define_additional_procedure.html"><div class="navi">4.1.3.2 define additional procedure / function </div></a></li>
<li class="navi"><a href="REF_Features_user_parameter_types.html"><div class="navi">4.1.3.3 Parameter Types in User-Defined Functions </div></a></li>
<li class="navi"><a href="REF_Function_return.html"><div class="navi">4.1.3.4 return </div></a></li>
<li class="navi"><a href="REF_Function_function_existing.html"><div class="navi">4.1.3.5 function / user function existing </div></a></li>
<li class="navi"><a href="REF_Function_delete_user_function.html"><div class="navi">4.1.3.6 delete user function </div></a></li>
</ul></li>
<li class="navi"><a href="REF_Features_Start_or_include_Beyond4P_Programs.html"><div class="navi">+ 4.1.4 Start or include Beyond4P Programs </div></a></li>
<li class="navi"><a href="REF_Features_Other_Control_Flow_Functions.html"><div class="navi">+ 4.1.5 Other Control Flow Functions </div></a></li>
</ul></li>
<li class="navi"><a href="REF_Features_Type_Conversion_Functions.html"><div class="navi">+ 4.2 Type Conversion and Formatting Functions </div></a></li>
<li class="navi"><a href="REF_Features_Mathematics_and_Statistics.html"><div class="navi">+ 4.3 Mathematics and Statistics </div></a></li>
<li class="navi"><a href="REF_Features_string_functions.html"><div class="navi">+ 4.4 String Functions </div></a></li>
<li class="navi"><a href="REF_Features_date_and_time_functions.html"><div class="navi">+ 4.5 Date and Time Functions </div></a></li>
<li class="navi"><a href="REF_Features_parameter_set_functions.html"><div class="navi">+ 4.6 Parameter Set Functions </div></a></li>
<li class="navi"><a href="REF_Features_table_functions.html"><div class="navi">+ 4.7 Table Functions </div></a></li>
<li class="navi"><a href="REF_Features_directory_and_file_system.html"><div class="navi">+ 4.8 Directory and File System Functions </div></a></li>
<li class="navi"><a href="REF_Features_Cross-functional_info.html"><div class="navi">+ 4.9 Cross-Functional Info </div></a></li>
</ul></li>
<li class="navi"><a href="REF_Features_verbose.html"><div class="navi"> Verbose Levels </div></a></li>
</ul>
	</div>

	<div class="article">
<h4> Function Names</h4>
<div class="white_background_color" ><code>define procedure, define function, define procedure and function</code></div>
<h4> Synopsis</h4>
<div class="white_background_color" ><code>define ... ( expression, parameters ... ) { statement(s); } </code></div>
<h4> Description</h4>
<p><b>define procedure </b> defines a user procedure to be called as statements and without providing return values.<br/>
<b>define function </b> defines a user function which provides a return value and must be called inside an expression.<br/>
<b>define procedure and function </b> defines functions which can be called as procedures and functions as well.<br/>
<br/>
All procedures and functions can be declared with fixed or variable user-definable number of parameters.
<br/><br/>
User functions can be defined anywhere in the code, but as a good practice, do this outside the main block.
Inside the block function definition will only take place if the code runs (and not skips) over it.
You may want to use an <a class="bold_text" href="REF_Function_if.html">if</a>() clause to define a function <i>function name</i>() either one or the other way, but be aware that presence of the function
will be checked regardless if running or skipping over it.</p>
<h4> Call as: <span class="black_text">procedure</span></h4>
<h4> Restrictions</h4>
<p>No indirect parameter passing<br/>
Unlike other flow control functions, subsequent statements must always be encapsulated in a block using braces: { statement(s); } <br/>
The subsequent code block assumes <i>local variable scope</i> related to this procedure / function whenever new variables are created.  Local variables will be discarded after returning to the caller.</p>
<h4> Parameter count</h4>
<p>1-5</p>
<h4> Parameters</h4>
<table class="simple"><col style = "width:80px"><col style = "width:120px"><col style = "width:800px"><tr><th>No.</th><th>Type</th><th>Description</th></tr>
<tr><td>1<br/>input</td>
<td>literal</td>
<td><b>New Name</b><br/><p>Give your procedure or function a new name.  Then name may consist of multpile words with spaces, e.g. <b>my sort function</b>.</p>
</td></tr>
<tr><td>Opt. 2<br/>input</td>
<td>parameter set</td>
<td><b>Parameter Declaration</b><br/><p>This 2nd parameter must be specified if the new procedure or function comes with parameters to pass through.
It must be a 2-level nested parameter set where each such parameter set declares one function parameter. The syntax is as follows:<br/>
{  { parameter name 1, parameter type 1, parameter direction 1 }, { parameter name 2, ... }, ... }<br/>
Zero parameters may also be specified as 2 nested empty sets. { { } }<br/><br/>.
<i>parameter name</i> must be a literal which uses this name to it as a locally accessible variable.  Not recommended to add '[]' at the end of the name here
because it would expect a pre-defined variable to be used as parameter name.<br/>
<i>parameter type</i> must be a literal which declares the type(s) allowed.  Both single types (e.g. numeral) as well as combined types
are supported.  See <a class="bold_text" href="REF_Features_user_parameter_types.html">list of parameter types in user functions</a> for all valid types and ther functionality.<br/><br/>
<i>parameter direction</i>: One of the following:<br/>
</p><table style = "width:700px"><col style = "width:100px"><col style = "width:600px">
<tr><th>Parameter direction  </th><th>   Explanation</th></tr>
<tr><td>input                </td><td> Input parameter which may be any expression: Value, variable, table or a calculation.  Changing the value inside the user procedure / function code is allowed and has no impact outside the procedure / function.</td></tr>
<tr><td>output               </td><td> Output parameter, must be a variable or table reference.  Nonexisting variables will be initialized automatically.  The final value assigned to the variable will be written back to the variable specified as parameter, or table entry.  In the latter case, the value will be converted to literal automatically.</td></tr>
<tr><td>io                   </td><td> I/O parameter, must be a variable or table reference.  Variables specified must exist before the function call is made.  The final value assigned to the variable will be written back to the variable specified as parameter, or table entry.  In the latter case, the value will be converted to literal automatically.</td></tr>
<tr><td>reference            </td><td> Reference to variable.  In this case, the code in the defined procedure or function gets the <span class="red_text">reference</span> to the variable so the <a class="bold_text" href="REF_Features_variables.html">base variable</a> and all <a class="bold_text" href="REF_Features_variables.html">member variables</a> are visible and can be modified.</td></tr>
</table><p></p>
</td></tr>
<tr><td>Opt. 3<br/>input</td>
<td>numeral</td>
<td><b>Minimum Parameter Count</b><br/><p>Rules the minimum required number of parameters to be passed.  Passing the remaining parameters is optional</p>
<span class="black_text"><b> Default value: </b></span>According to number of parameter names specified
</td></tr>
<tr><td>Opt. 4<br/>input</td>
<td>numeral</td>
<td><b>Maximum Parameter Count</b><br/><p>Rules the maximum required number of parameters to be passed.  The maximum number may be higher than the number of parameter names defined.
Specify -1 if no upper limit applies.</p>
<span class="black_text"><b> Default value: </b></span>According to number of parameter names specified
</td></tr>
<tr><td>Opt. 5<br/>input</td>
<td>numeral</td>
<td><b>Repetition Count</b><br/><p>The Repetition Count specifies the number of additional parameters to be specified if variable parameter count is enabled. 1 specifes any number
is allowed between minimum and maximum number of parameters.  And if the parameter lies outside range of defiend parameter types, then the last type
appeis.  2 specifies that 2 additional parameters need to be added, and if the parameter lies outside the range of defined parameter types,
then the last two parameter types apply sequentially.  Similar rules apply to  larger numbers specified.</p>
<span class="black_text"><b> Default value: </b></span>1
</td></tr>
</table>
<h4> Exceptions</h4>
<p>Procedure or function name is already defiend</p>
<h4> Examples</h4>
<div class="code_background_color" ><code> &nbsp; &nbsp; &nbsp;define function( my private function, { { guest name, literal }, { vegetarian, boolean } }, 2, -1, 2 )<br/>
 &nbsp; &nbsp; &nbsp;{<br/>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo( "Name of function: ", function name[] );<br/>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo( "First invited guest: ", guest name[], select if( vegetarian[], " (vegetarian menu)", " (fish menu)" ) );<br/>
<br/>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;for (i[] = 3, i[] &lt;= parameter count[], i[]+=2 ) // Additional guests<br/>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{<br/>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;name[] = ("parameter " + literal(i[] &nbsp;))[];<br/>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;vegi[] = ("parameter " + literal(i[]+1))[];<br/>
<br/>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo( "And: ", name[], select if( vegi[], " (vegetarian menu)", " (fish menu)" ) );<br/>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br/>
<br/>
<br/>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return( parameter count[] / 2 ); // Number of guests<br/>
 &nbsp; &nbsp; &nbsp;}<br/>
<br/>
<br/>
 &nbsp; &nbsp; &nbsp;guest count[] = my private function( Jim Bean, true );<br/>
 &nbsp; &nbsp; &nbsp;echo(new line, "Number of guests invited: ", guest count[], new line);<br/>
<br/>
 &nbsp; &nbsp; &nbsp;guest count[] = my private function( Jim Bean, true, Tina Turner, false, Tom Cruise, false, Amsel Adams, true );<br/>
 &nbsp; &nbsp; &nbsp;echo(new line, "Number of guests invited to bigger party: ", guest count[]); &nbsp; &nbsp; &nbsp;<br/>
 &nbsp; &nbsp; &nbsp;</code></div>
<h4> Output</h4>
<div class="output_background_color" ><code>Name of function: my private function<br/>
First invited guest: Jim Bean (vegetarian menu)<br/>
<br/>
Number of guests invited: 1<br/>
<br/>
Name of function: my private function<br/>
First invited guest: Jim Bean (vegetarian menu)<br/>
And: Tina Turner (fish menu)<br/>
And: Tom Cruise (fish menu)<br/>
And: Amsel Adams (vegetarian menu)<br/>
<br/>
Number of guests invited to bigger party: 4<br/>
</code></div><br><u>Try it yourself:</u> Open <b>REF_Function_define_procedure00.b4p</b> in <a class="bold_text" href="B4P_Examples.zip">B4P_Examples.zip</a>. Decompress before use.
<h4> See also</h4>
<p><a class = "bold_text" href="REF_Function_define_additional_procedure.html">define additional procedure</a><br/>
<a class = "bold_text" href="REF_Function_define_additional_procedure.html">define additional function</a><br/>
<a class = "bold_text" href="REF_Function_define_additional_procedure.html">define additional procedure and function</a></p>
	</div>
</section>

<div class="footer">
Copyright (C) 2007 - 2020 Georg zur Bonsen
</div>

</div>

</html>	


