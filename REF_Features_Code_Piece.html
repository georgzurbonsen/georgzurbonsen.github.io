<!DOCTYPE html>
<html lang="en-US">	

<head>
<meta charset="utf-8"/>
<title>B4P Reference</title>
<link rel="stylesheet" href="styles.css">
</head>


<div class="wrapper">

<div class="logo">
<a href="index.html">
<img src="Images/B4P_Logo.png" alt="Beyond4P">
</a>
</div>

<div class="header">
<h3>Code Pieces (Func. Param. Type)</h3>
<a accesskey="p" href="REF_Features_Table_columns.html"><span>Prev</span></a> <a accesskey="n" href="REF_Features_Expressions_to_select_rows.html"><span>Next</span></a> 
</div>

<section>
	<div class="nav">
<div class="booktitle_field">Reference Manual</div>
<ul>
<li class="navi"><a href="GUI_Features_Table_of_Contents.html"><div class="navi"> &#8594; User Guide </div></a></li>
<li class="navi"><a href="REF_Features_Table_of_Contents.html"><div class="navi"> Table of Contents </div></a></li>
<li class="navi"><a href="REF_Features_starting.html"><div class="navi">1 Starting B4P </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="REF_Features_interactive.html"><div class="navi">1.1 Interactive Mode </div></a></li>
<li class="navi"><a href="REF_Features_licensing.html"><div class="navi">1.2 Licensing </div></a></li>
</ul></li>
<li class="navi"><a href="REF_Features_introduction.html"><div class="navi">2 Introduction </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="REF_Features_UNICODE_character_set.html"><div class="navi">2.1 UNICODE Character Set </div></a></li>
<li class="navi"><a href="REF_Features_data_types.html"><div class="navi">2.2 Basic Data Types </div></a></li>
<li class="navi"><a href="REF_Features_variables.html"><div class="navi">2.3 Variables </div></a></li>
<li class="navi"><a href="REF_Features_comments.html"><div class="navi">2.4 Comments </div></a></li>
<li class="navi"><a href="REF_Features_reserved_keywords.html"><div class="navi">2.5 Reserved keywords </div></a></li>
<li class="navi"><a href="REF_Features_path_names.html"><div class="navi">2.6 Path and File Names </div></a></li>
<li class="navi"><a href="REF_Features_Locales.html"><div class="navi">2.7 Locales </div></a></li>
</ul></li>
<li class="navi"><a href="REF_Features_Functions_and_Procedures.html"><div class="navi">3 Functions and Procedures </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="REF_Features_Function_Parameters.html"><div class="navi">3.1 Function Parameters </div></a></li>
<li class="navi"><a href="REF_Features_Function_parameter_directions.html"><div class="navi">3.2 Function Parameter Directions </div></a></li>
<li class="navi"><a href="REF_Features_Function_parameter_types.html"><div class="navi">3.3 Function Parameter Types </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="REF_Features_parameter_set_or_literal.html"><div class="navi">3.3.1 Parameter Set or Literal (Func. Param. Type) </div></a></li>
<li class="navi"><a href="REF_Features_Table_columns.html"><div class="navi">3.3.2 Table Columns (Func. Param. Type) </div></a></li>
<li class="navi"><a href="REF_Features_Code_Piece.html"><div class="navi navi-selected">3.3.3 Code Pieces (Func. Param. Type) </div></a></li>
<li class="navi"><a href="REF_Features_Expressions_to_select_rows.html"><div class="navi">3.3.4 Expressions to Select Rows </div></a></li>
</ul></li>
<li class="navi"><a href="REF_Features_Indirect_parameter_passing.html"><div class="navi">3.4 Indirect Parameter Passing </div></a></li>
</ul></li>
<li class="navi"><a href="REF_Features_Function_Library.html"><div class="navi">4 Function Library </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="REF_Features_Control_Flow_Functions.html"><div class="navi">+ 4.1 Control Flow Functions </div></a></li>
<li class="navi"><a href="REF_Features_Type_Conversion_Functions.html"><div class="navi">+ 4.2 Type Conversion and Formatting Functions </div></a></li>
<li class="navi"><a href="REF_Features_Mathematics_and_Statistics.html"><div class="navi">+ 4.3 Mathematics and Statistics </div></a></li>
<li class="navi"><a href="REF_Features_string_functions.html"><div class="navi">+ 4.4 String Functions </div></a></li>
<li class="navi"><a href="REF_Features_date_and_time_functions.html"><div class="navi">+ 4.5 Date and Time Functions </div></a></li>
<li class="navi"><a href="REF_Features_parameter_set_functions.html"><div class="navi">+ 4.6 Parameter Set Functions </div></a></li>
<li class="navi"><a href="REF_Features_table_functions.html"><div class="navi">+ 4.7 Table Functions </div></a></li>
<li class="navi"><a href="REF_Features_variables_functions.html"><div class="navi">+ 4.8 Variables Functions </div></a></li>
<li class="navi"><a href="REF_Features_directory_and_file_system.html"><div class="navi">+ 4.9 Directory and File System Functions </div></a></li>
<li class="navi"><a href="REF_Features_Cross-functional_info.html"><div class="navi">+ 4.10 Cross-Functional Info </div></a></li>
</ul></li>
<li class="navi"><a href="REF_Features_verbose.html"><div class="navi"> Verbose Levels </div></a></li>
</ul>
	</div>

	<div class="article">
<h4> Introduction</h4>
<p>
Passing code pieces as function parameters is a unique feature in B4P.  Code pieces can either be provided directly or as a literal string.
When the function is called, the code piece is checked for correct syntax.  While the function is running, the code pieces provided may be
called multiple times, or in specific cases not at all.

<br><br>

Code pieces provided in literal strings must be referenced with a preceding colon (:) symbol in order to avoid interpreting the string
value or expression as actual code to execute.

Code pieces come in 4 different flavors:

</p><table class="bold_column_1 bold_column_3" style = "width:1000px"><col style = "width:200px"><col style = "width:600px"><col style = "width:200px">
<tr><th>Code Piece Type         </th><th> Description                                                                                   </th><th> Syntax Examples</th></tr>
<tr><td>Comparison expression       </td><td> Expression to compare something without value on left hand side.<br>The parameter inside the <a class="bold_text" href="REF_Function_case.html">case</a>() function is a comparison expression.                  </td><td> &gt;30<br>3..4<br>A  (equals A)</td></tr>
<tr><td>Expression          </td><td> Any form of B4P expression as expected on right hand side of assignments<br>The parameter inside the <a class="bold_text" href="REF_Function_while.html">while</a>() function is an expression which must return a boolean result.    </td><td> a[]+1<br>abs(-1)</td></tr>
<tr><td>Variables           </td><td> Expression on left hand side of assignments, which are destination variables, but not tables.<br>The <a class="bold_text" href="REF_Function_dim.html">dim</a>() function makes use of this.    </td><td> a[]<br>[table:Name,1]</td></tr>
<tr><td>Statements          </td><td> 1 or more statements, separated with semicolons. Braces are allowed.<br>The <a class="bold_text" href="REF_Function_for.html">for</a>() function expects two such statements.           </td><td> a[]=b[]+2;<br>{ echo(test); c[]=1 }</td></tr>
</table><p>
</p>
<h4> Comparison Expressions</h4>
<p>
A comparison expression is part of an expression where one left-hand value is compared with one or more other right-hand values.  While the a regular
expression contains left-hand value, comparison operator and right values, the comparison expression leaves out the left-hand value out.
<br><br>

<a class="bold_text" href="REF_Function_case.html">case</a>() and <span class="red_text">compare select</span>() are two common functions which utilize comparison expressions.

<br><br>
<u>Attention</u>: Extra arentheses are required when specifying individual values, multiple values spearated with commas, ranges, and when using following comparison operators in front: = and &lt;&gt;.  The reason is
that with out parentheses, the comparison tries to hijack all further parameters separated with commas as their own right-hand values to compare, too.<br>
No extra parentheses are required when the comparison expression is in the last function parameter or is the only one function parameter.<br>
No extraparentheses are required if the comparison expression begins with following operators: &lt;, &lt;=, &gt;, &lt;=, ==, and !=.<br>
No extra parentheses are required if the comparison expression is provided in a string value.
</p>
<h5> </h5>
<div class="code_background_color" ><code> &nbsp;p[] = { 2, 3, 5, 7, 10, 11, 13, 17, 23, 31, 37, A, a, Hello };<br/>
<br/>
 &nbsp;for all parameters( p[], var[] )<br/>
 &nbsp;{ &nbsp; <br/>
 &nbsp; &nbsp; &nbsp;result[] = compare select( var[], other, <br/>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(11,37), &nbsp; &nbsp; &nbsp;is 11 or 37, // Parentheses required if no operator put in front<br/>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;==13, &nbsp; &nbsp; &nbsp; &nbsp; thirteen, &nbsp; &nbsp; <br/>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(=+a), &nbsp; &nbsp; &nbsp; &nbsp;1st letter in alphabet, // Parentheses required with = and &lt;&gt;<br/>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;('H*'), &nbsp; &nbsp; &nbsp; Begins with H,<br/>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&gt;15, &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;greater than 15,<br/>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(3..5,10), &nbsp; &nbsp;"is one of 3..5, 10" );<br/>
 &nbsp; &nbsp; &nbsp;print(var[],": ", result[]," &nbsp;/ ");<br/>
<br/>
 &nbsp; &nbsp; &nbsp;// Demonstrate the same with comparison expressions in strings. &nbsp;Note the colons used in front.<br/>
<br/>
 &nbsp; &nbsp; &nbsp;c[] = '(3..5,10)';<br/>
 &nbsp; &nbsp; &nbsp;result[] = compare select( var[], other, <br/>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;:literal(11)+",37", is 11 or 37, &nbsp; &nbsp;// Expression returning a string<br/>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;:'==13', &nbsp; &nbsp; &nbsp;thirteen, &nbsp; &nbsp; // Softquoted string: No difference to quoted string<br/>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;:'=+a', &nbsp; &nbsp; &nbsp; 1st letter in alphabet, <br/>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;:"'H*'", &nbsp; &nbsp; &nbsp;Begins with H, // See note below !<br/>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;:"&gt;15", &nbsp; &nbsp; &nbsp; greater than 15,<br/>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;:c[], &nbsp; &nbsp; &nbsp; &nbsp; "is one of 3..5, 10" ); // Referring to a variable<br/>
 &nbsp; &nbsp; &nbsp;echo(result[]);<br/>
 &nbsp;}<br/>
<br/>
 &nbsp;// Note :"'H*'" with nested quotation marks: &nbsp;Expression inside requires a single quotation mark to<br/>
 &nbsp;// let the comparison expression support wildcard symbols.<br/>
<br/>
</code></div>
<h5> </h5>
<div class="output_background_color" ><code>2: other &nbsp;/ other<br/>
3: is one of 3..5, 10 &nbsp;/ is one of 3..5, 10<br/>
5: is one of 3..5, 10 &nbsp;/ is one of 3..5, 10<br/>
7: other &nbsp;/ other<br/>
10: is one of 3..5, 10 &nbsp;/ is one of 3..5, 10<br/>
11: is 11 or 37 &nbsp;/ is 11 or 37<br/>
13: thirteen &nbsp;/ thirteen<br/>
17: greater than 15 &nbsp;/ greater than 15<br/>
23: greater than 15 &nbsp;/ greater than 15<br/>
31: greater than 15 &nbsp;/ greater than 15<br/>
37: is 11 or 37 &nbsp;/ is 11 or 37<br/>
A: 1st letter in alphabet &nbsp;/ 1st letter in alphabet<br/>
a: 1st letter in alphabet &nbsp;/ 1st letter in alphabet<br/>
Hello: Begins with H &nbsp;/ Begins with H<br/>
</code></div><u>Try it yourself:</u> Open <b>REF_Features_Code_Piece.b4p</b> in <a class="bold_text" href="B4P_Examples.zip">B4P_Examples.zip</a>. Decompress before use.
<h4> Expressions</h4>
<p>
A expression is a a value, a fuction call or a calculation which returns a value.
The individual functions may impose additional requirements, for exmplae that the expression must return boolean
values <b>true</b> or <b>false</b>.

<br><br>

The <a class="bold_text" href="REF_Function_while.html">while</a>() loop function is a good example where the expression inside is calculated several times while the
function is executed.  In addition, various functions containing <b>... selected rows ...</b> in their names make
use expressions as code pieces.

<br><br>

<u>Attention</u>: Parentheses are required when the expression coontains a comparison operator using = or &lt;&gt.  The reason is that
these two comparison operators may expect more than one value separated with commas and they would, if parenthese are not used,
hijack the remaining function parameters as additional values to compare.
No extra parentheses are required when the expression is in the last function parameter or is the only one function parameter.<br>
No extra parentheses are required if the expression begins with following operators: &lt;, &lt;=, &gt;, &lt;=, ==, and !=.<br>
No extra parentheses are required if the expression is provided in a string value.
</p>
<h5> </h5>
<div class="code_background_color" ><code> &nbsp;table initialize( primes, <br/>
 &nbsp; &nbsp;{ Number, 2, 3, 5, 7, 10, 11, 13, 17, 23, 31, 37, A, a, Hello } );<br/>
<br/>
 &nbsp;table process selected rows( primes, ([Number]=11,37), &nbsp; echo( [Number],": ", "is 11 or 37" ) );<br/>
 &nbsp;table process selected rows( primes, &nbsp;[Number]==13, &nbsp; &nbsp; &nbsp;echo( [Number],": ", "thirteen" ) );<br/>
 &nbsp;table process selected rows( primes, ([Number]='H*'), &nbsp; &nbsp;echo( [Number],": ", "Begins with H" ) );<br/>
 &nbsp;table process selected rows( primes, ([Number]=3..5,10), echo( [Number],": ", "is one of 3..5,10" ) );<br/>
<br/>
 &nbsp;echo; // Do the same with expression in strings. &nbsp;No parentheses needed-<br/>
<br/>
 &nbsp;c[] = '[Number] = 3..5,10'; //<br/>
 &nbsp;table process selected rows( primes, :c[], echo( [Number],": ", "is one of 3..5,10" ) );<br/>
<br/>
 &nbsp;c[] = "[Number] = 'H*'";<br/>
 &nbsp;table process selected rows( primes, :c[], echo( [Number],": ", "Begins with H" ) );</code></div>
<h5> </h5>
<div class="output_background_color" ><code>11: is 11 or 37<br/>
37: is 11 or 37<br/>
13: thirteen<br/>
Hello: Begins with H<br/>
3: is one of 3..5,10<br/>
5: is one of 3..5,10<br/>
10: is one of 3..5,10<br/>
<br/>
3: is one of 3..5,10<br/>
5: is one of 3..5,10<br/>
10: is one of 3..5,10<br/>
Hello: Begins with H<br/>
</code></div><u>Try it yourself:</u> Open <b>REF_Features_Code_Piece_01.b4p</b> in <a class="bold_text" href="B4P_Examples.zip">B4P_Examples.zip</a>. Decompress before use.
<h4> Variables</h4>
<p>
Variable are expressions which must refer directly to a variable.  Any other forms of expressions such as constants, calculations,
function calls, table references, etc, are forbidden and assert exceptions.  However, variable members (in <a class="bold_text" href="REF_Features_structures.html">structures</a> and __arrays_
are allowed).

<a class="bold_text" href="REF_Function_dim.html">dim</a>(), <span class="red_text">structure</span>(), <a class="bold_text" href="REF_Function_array.html">array</a>() and <span class="red_text">protect</span>() are common functions which utilize this variant of code pieces.
</p>
<h5> </h5>
<div class="code_background_color" ><code> &nbsp;var 1[] = my array;<br/>
 &nbsp;var 2[] = 'my array[]';<br/>
<br/>
 &nbsp; &nbsp; array( &nbsp;var 0[], &nbsp; {hog, bat, pig} );<br/>
 &nbsp;// array( &nbsp;var 1[][], {dog, cat, rat} ); &nbsp; // This one is wrong<br/>
 &nbsp; &nbsp; array( :var 2[], &nbsp; {dog, cat, rat} ); &nbsp; // This one is OK<br/>
 &nbsp;<br/>
 &nbsp;echo( var 0[1] ); // bat<br/>
 &nbsp;echo( my array[1] ); // cat</code></div>
<h5> </h5>
<div class="output_background_color" ><code>bat<br/>
cat<br/>
</code></div><u>Try it yourself:</u> Open <b>REF_Features_Code_Piece_02.b4p</b> in <a class="bold_text" href="B4P_Examples.zip">B4P_Examples.zip</a>. Decompress before use.
<h4> Statements</h4>
<p>
Statements may consist of one single statement, multiple statements separated with semicolons, and blocks.  Blocks are one or more
statements encapsulated with { ... } braces.

<br><br>

The <a class="bold_text" href="REF_Function_for.html">for</a>() and <a class="bold_text" href="REF_Function_table_process.html">table process</a>() are common functions making use of statements.<br>

<u>Attention: </u>Don't confuse with C/C++: The three parameters inside the for-function must be separated with commas, not semicolons.  And use semicolons instead of commas to separate statements.<br></p>
<h5> </h5>
<div class="code_background_color" ><code> &nbsp;// Demonstrates direct use of code and code in string using colon<br/>
<br/>
 &nbsp;next[] = "a[]++; print( Next )";<br/>
 &nbsp;for ( a[] = 1; print( Start ), a[] &lt; 5, :next[] )<br/>
 &nbsp;{<br/>
 &nbsp; &nbsp; &nbsp;echo( " ", a[] );<br/>
 &nbsp;}</code></div>
<h5> </h5>
<div class="output_background_color" ><code>Start 1<br/>
Next 2<br/>
Next 3<br/>
Next 4<br/>
Next</code></div><u>Try it yourself:</u> Open <b>REF_Features_Code_Piece_03.b4p</b> in <a class="bold_text" href="B4P_Examples.zip">B4P_Examples.zip</a>. Decompress before use.
	</div>
</section>

<div class="footer">
Copyright (C) 2007 - 2020 Georg zur Bonsen
</div>

</div>

</html>	


