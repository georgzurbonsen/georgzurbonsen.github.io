<!DOCTYPE html>
<html lang="en-US">	

<head>
<meta charset="utf-8"/>
<title>B4P Reference</title>
<link rel="stylesheet" href="styles.css">
</head>


<div class="wrapper">

<div class="logo">
<a href="index.html">
<img src="Images/B4P_Logo.png" alt="B4P">
</a>
</div>

<div class="header">
<h3>Smart Formatting</h3>
<a accesskey="p" href="LIB_Features_boolean_to_string_conversion_and_formatting.html"><span>Prev</span></a> <a accesskey="n" href="LIB_Function_num.html"><span>Next</span></a> 
</div>

<section>
	<div class="nav">
<div class="booktitle_field">Function Library Guide</div>
<ul>
<li class="navi"><a href="GUI_Features_User_Guide.html"><div class="navi"> &#8594; User Guide </div></a></li>
<li class="navi"><a href="LAN_Features_Language_Guide.html"><div class="navi"> &#8594; Language Guide </div></a></li>
<li class="navi"><a href="LIB_Features_Table_of_Contents.html"><div class="navi"> Table of Contents </div></a></li>
<li class="navi"><a href="LIB_Features_Function_Library.html"><div class="navi">1 Function Library </div></a></li>
<li class="navi"><a href="LIB_Features_Control_flow_functions.html"><div class="navi">+ 2 Control Flow Functions </div></a></li>
<li class="navi"><a href="LIB_Features_Console_I_O_Functions.html"><div class="navi">+ 3 Console I/O Functions </div></a></li>
<li class="navi"><a href="LIB_Features_Type_Conversion_Functions.html"><div class="navi">4 Type Conversion and Formatting </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="LIB_Function_str.html"><div class="navi">4.1 str, soft </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="LIB_Features_string_to_string_conversion_and_formatting.html"><div class="navi">4.1.1 String to String Formatting </div></a></li>
<li class="navi"><a href="LIB_Features_void_to_string_conversion_and_formatting.html"><div class="navi">4.1.2 Void to String Formatting </div></a></li>
<li class="navi"><a href="LIB_Features_numeral_to_string_conversion_and_formatting.html"><div class="navi">4.1.3 Numeral to String Formatting </div></a></li>
<li class="navi"><a href="LIB_Features_date_to_string_conversion_and_formatting.html"><div class="navi">4.1.4 Date to String Formatting </div></a></li>
<li class="navi"><a href="LIB_Features_Parameter_Set_to_string_conversion_and_formatting.html"><div class="navi">4.1.5 Parameter Set to String Formatting </div></a></li>
<li class="navi"><a href="LIB_Features_boolean_to_string_conversion_and_formatting.html"><div class="navi">4.1.6 Boolean to String Formatting </div></a></li>
<li class="navi"><a href="LIB_Features_smart_conversion_and_formatting.html"><div class="navi navi-selected">4.1.7 Smart Formatting </div></a></li>
</ul></li>
<li class="navi"><a href="LIB_Function_num.html"><div class="navi">4.2 num </div></a></li>
<li class="navi"><a href="LIB_Function_clean_num.html"><div class="navi">4.3 clean num, clean if num </div></a></li>
<li class="navi"><a href="LIB_Function_smart_num.html"><div class="navi">4.4 smart num, smart if num </div></a></li>
<li class="navi"><a href="LIB_Function_date.html"><div class="navi">4.5 date, pure date, date time </div></a></li>
<li class="navi"><a href="LIB_Function_time.html"><div class="navi">4.6 time, pure time </div></a></li>
<li class="navi"><a href="LIB_Features_Detects_dates_correctly_in_strings.html"><div class="navi">4.7 Date and Time Detection Rules </div></a></li>
<li class="navi"><a href="LIB_Function_bool.html"><div class="navi">4.8 bool </div></a></li>
<li class="navi"><a href="LIB_Function_parameter_set.html"><div class="navi">4.9 parameter set </div></a></li>
<li class="navi"><a href="LIB_Function_best_type.html"><div class="navi">4.10 best type </div></a></li>
<li class="navi"><a href="LIB_Function_join.html"><div class="navi">4.11 join ... </div></a></li>
<li class="navi"><a href="LIB_Function_type.html"><div class="navi">4.12 type, subtype </div></a></li>
<li class="navi"><a href="LIB_Function_hash_signature.html"><div class="navi">4.13 hash signature </div></a></li>
<li class="navi"><a href="LIB_Function_excel_column.html"><div class="navi">4.14 excel column </div></a></li>
<li class="navi"><a href="LIB_Function_excel_coordinates.html"><div class="navi">4.15 excel coordinates </div></a></li>
<li class="navi"><a href="LIB_Function_excel_validate_sheet_name.html"><div class="navi">4.16 excel validate sheet name </div></a></li>
</ul></li>
<li class="navi"><a href="LIB_Features_Mathematics_and_Statistics.html"><div class="navi">+ 5 Mathematics and Statistics </div></a></li>
<li class="navi"><a href="LIB_Features_string_functions.html"><div class="navi">+ 6 String Functions </div></a></li>
<li class="navi"><a href="LIB_Features_date_and_time_functions.html"><div class="navi">+ 7 Date and Time Functions </div></a></li>
<li class="navi"><a href="LIB_Features_parameter_set_functions.html"><div class="navi">+ 8 Parameter Set Functions </div></a></li>
<li class="navi"><a href="LIB_Features_table_functions.html"><div class="navi">+ 9 Table Functions </div></a></li>
<li class="navi"><a href="LIB_Features_variables_functions.html"><div class="navi">+ 10 Variables Functions </div></a></li>
<li class="navi"><a href="LIB_Features_directory_and_file_system_functions.html"><div class="navi">+ 11 Directory and File System Functions </div></a></li>
<li class="navi"><a href="LIB_Features_system_functions.html"><div class="navi">+ 12 System Functions </div></a></li>
<li class="navi"><a href="LIB_Features_help_and_support_functions.html"><div class="navi">+ 13 Help and Support Functions </div></a></li>
<li class="navi"><a href="LIB_Features_Cross-functional_info.html"><div class="navi">+ 14 Cross-Functional Info </div></a></li>
<li class="navi"><a href="LIB_Features_Index.html"><div class="navi">15 Index </div></a></li>
</ul>
	</div>

	<div class="article">
<h4> Introduction</h4>
<p>
In various cases, the type of the original value may not be the same all time, or you want to apply different formatting instructions
depending on the values contained.  The approach is easy: In the 2nd function parameter, provide a 2-level nested parameter set which contains 1 or
more formatting instructions for the different types and values.

<br><br>

Example: <b> str( 123.45, { { numeral, "#,##0.00", en_US }, { string, "XXXXXXXXX", align right } } );</b><br><br>

The first set of parameters is used if the value provided is a numeral.  Otherwise, if it is a string, then the 2nd set of parameers will be used.
A simple formatting approach will used if a type is encountered but not described, e.g. a boolean type in the example shown above.

</p>
<h4> Smart Formatting Conditions</h4>
<p>
The formatting conditions depend on the type of data provided, and optionally on the value.

</p><table class="bold_column_1" style = "width:1000px"><col style = "width:200px"><col style = "width:800px">
<tr><th>Formatting Condition            </th><th> Description</th></tr>
<tr><td>string                          </td><td> Data type is a string</td></tr>
<tr><td>blank string                    </td><td> Data type is a string and the contents are blank</td></tr>
<tr><td>void                            </td><td> Data type is a void. (Note: Format voids as strings)</td></tr>
<tr><td>numeral                         </td><td> Data type is a numeral</td></tr>
<tr><td>positive                        </td><td> Data type is a numeral, value is greater than 0</td></tr>
<tr><td>negative                        </td><td> Data type is a negative value is smaller than 0</td></tr>
<tr><td>zero                            </td><td> Data type is a numeral, value equals to 0</td></tr>
<tr><td>near zero                       </td><td> Data type is a numeral, value equals or is very close to 0 (ruled by <a class="bold_text" href="LAN_Features_comparison_options.html">epsilon</a> value)</td></tr>
<tr><td>date                            </td><td> Data type is a date</td></tr>
<tr><td>blank date                      </td><td> Data type is a date, containing a blank date</td></tr>
<tr><td>date time                       </td><td> Data type is a date, containing both date and time</td></tr>
<tr><td>time                            </td><td> Data type is a date, containing a time only</td></tr>
<tr><td>boolean                         </td><td> Data type is a boolean</td></tr>
<tr><td>parameter set                   </td><td> Data type is a parameter set+</td></tr>
</table><p>

In case you have different formats for positive (or negative) numbers and the rest, then desribe the formatting for the positive (or negative)
numbers first because the checking is done from left to right.
</p>
<h5> </h5>
<div class="code_background_color" ><code>&nbsp;&nbsp;for all parameters( { 5678.91, 0, true, "Abc" }, v[] )<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo( str( v[], {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ positive, "#,##0.0", de_ch },<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ string,&nbsp;&nbsp;"x x x x", '', '-' },<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ numeral,&nbsp;&nbsp;"0 'zero or negative'" },<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ boolean,&nbsp;&nbsp;"'Boolean: ' TT" } } ) );<br/>
&nbsp;&nbsp;}</code></div>
<h5> </h5>
<div class="output_background_color" ><code>5'678.9<br>0 zero or negative<br>Boolean:&nbsp;&nbsp;TRUE<br>a b c -<br></code></div><u>Try it yourself:</u> Open <b>LIB_Features_smart_conversion_and_formatting.b4p</b> in <a class="bold_text" href="B4P_Examples.zip">B4P_Examples.zip</a>. Decompress before use.
	</div>
</section>

<div class="footer">
Copyright (C) 2007 - 2021 Georg zur Bonsen, All Rights Reserved
</div>

</div>

</html>	


