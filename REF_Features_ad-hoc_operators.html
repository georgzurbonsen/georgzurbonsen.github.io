<!DOCTYPE html>
<html lang="en-US">	

<head>
<meta charset="utf-8"/>
<title>B4P Reference</title>
<link rel="stylesheet" href="styles.css">
</head>


<div class="wrapper">

<div class="logo">
<a href="index.html">
<img src="Images/B4P_Logo.png" alt="Beyond4P">
</a>
</div>

<div class="header">
<h3>Ad-hoc Operators</h3>
<a accesskey="p" href="REF_Features_deep_assignment_operators.html"><span>Prev</span></a> <a accesskey="n" href="REF_Features_cascading_ad-hoc_operators.html"><span>Next</span></a> 
</div>

<section>
	<div class="nav">
<div class="booktitle_field">Reference Manual</div>
<ul>
<li class="navi"><a href="GUI_Features_Table_of_Contents.html"><div class="navi"> &#8594; User Guide </div></a></li>
<li class="navi"><a href="REF_Features_Table_of_Contents.html"><div class="navi"> Table of Contents </div></a></li>
<li class="navi"><a href="REF_Features_starting.html"><div class="navi">1 Starting B4P </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="REF_Features_interactive.html"><div class="navi">1.1 Interactive Mode </div></a></li>
<li class="navi"><a href="REF_Features_licensing.html"><div class="navi">1.2 Licensing </div></a></li>
</ul></li>
<li class="navi"><a href="REF_Features_introduction.html"><div class="navi">2 Introduction </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="REF_Features_UNICODE_character_set.html"><div class="navi">+ 2.1 UNICODE Character Set </div></a></li>
<li class="navi"><a href="REF_Features_data_types.html"><div class="navi">+ 2.2 Basic Data Types </div></a></li>
<li class="navi"><a href="REF_Features_reserved_keywords.html"><div class="navi">2.3 Reserved keywords </div></a></li>
<li class="navi"><a href="REF_Features_path_names.html"><div class="navi">2.4 Path and File Names </div></a></li>
<li class="navi"><a href="REF_Features_Locales.html"><div class="navi">2.5 Locales </div></a></li>
<li class="navi"><a href="REF_Features_comments.html"><div class="navi">2.6 Comments </div></a></li>
</ul></li>
<li class="navi"><a href="REF_Features_variables.html"><div class="navi">3 Variables </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="REF_Features_variable_scopes.html"><div class="navi">+ 3.1 Variable Scopes </div></a></li>
<li class="navi"><a href="REF_Features_Variable_attributes.html"><div class="navi">3.2 Variable Attributes </div></a></li>
<li class="navi"><a href="REF_Features_Variable_forms.html"><div class="navi">+ 3.3 Variable Forms and Trees </div></a></li>
<li class="navi"><a href="REF_Features_references_to_variables.html"><div class="navi">+ 3.4 References to Variables </div></a></li>
<li class="navi"><a href="REF_Features_protecting_variables.html"><div class="navi">3.5 Protecting Variables </div></a></li>
</ul></li>
<li class="navi"><a href="REF_Features_tables.html"><div class="navi">4 Tables </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="REF_Features_accessing_tables.html"><div class="navi">+ 4.1 Accessing Tables </div></a></li>
<li class="navi"><a href="REF_Features_memory_effect.html"><div class="navi">4.2 Header Names - Memory Effect </div></a></li>
</ul></li>
<li class="navi"><a href="REF_Features_formulas_and_operators.html"><div class="navi">5 Formulas and Operators </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="REF_Features_unary_operators.html"><div class="navi">5.1 Unary Operators </div></a></li>
<li class="navi"><a href="REF_Features_binary_operators.html"><div class="navi">+ 5.2 Binary Operators </div></a></li>
<li class="navi"><a href="REF_Features_deep_operators.html"><div class="navi">+ 5.3 Deep Operators </div></a></li>
<li class="navi"><a href="REF_Features_Assignment_operators.html"><div class="navi">5.4 Assignment operators </div></a></li>
<li class="navi"><a href="REF_Features_deep_assignment_operators.html"><div class="navi">5.5 Deep Assignment Operators </div></a></li>
<li class="navi"><a href="REF_Features_ad-hoc_operators.html"><div class="navi navi-selected">5.6 Ad-hoc Operators </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="REF_Features_cascading_ad-hoc_operators.html"><div class="navi">5.6.1 Cascading ad-hoc Operators </div></a></li>
<li class="navi"><a href="REF_Features_ad-hoc_operators_overview.html"><div class="navi">5.6.2 Ad-hoc Operators Overview </div></a></li>
</ul></li>
</ul></li>
<li class="navi"><a href="REF_Features_Transactions.html"><div class="navi">6 Transactions </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="REF_Features_Without_Transaction_Assignment_Operators.html"><div class="navi">+ 6.1 Without Transaction Assignment Operators </div></a></li>
<li class="navi"><a href="REF_Features_Transactions_with_AND_assignment_operator.html"><div class="navi">+ 6.2 &amp; Transaction Assignment Operators </div></a></li>
<li class="navi"><a href="REF_Features_Transactions_with_OR_assignment_operator.html"><div class="navi">+ 6.3 &vert; Transaction Assignment Operators </div></a></li>
<li class="navi"><a href="REF_Features_Transactions_with_ADD_assignment_operator.html"><div class="navi">+ 6.4 &#43; Transaction Assignment Operators </div></a></li>
</ul></li>
<li class="navi"><a href="REF_Features_Functions_and_Procedures.html"><div class="navi">7 Functions and Procedures </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="REF_Features_Function_Parameters.html"><div class="navi">7.1 Function Parameters </div></a></li>
<li class="navi"><a href="REF_Features_Function_parameter_directions.html"><div class="navi">7.2 Function Parameter Directions </div></a></li>
<li class="navi"><a href="REF_Features_Function_parameter_types.html"><div class="navi">+ 7.3 Function Parameter Types </div></a></li>
<li class="navi"><a href="REF_Features_Indirect_parameter_passing.html"><div class="navi">7.4 Indirect Parameter Passing </div></a></li>
</ul></li>
<li class="navi"><a href="REF_Features_Function_Library.html"><div class="navi">8 Function Library </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="REF_Features_Control_Flow_Functions.html"><div class="navi">+ 8.1 Control Flow Functions </div></a></li>
<li class="navi"><a href="REF_Features_input_output_functions.html"><div class="navi">+ 8.2 Input / Output Functions </div></a></li>
<li class="navi"><a href="REF_Features_Type_Conversion_Functions.html"><div class="navi">+ 8.3 Type Conversion and Formatting Functions </div></a></li>
<li class="navi"><a href="REF_Features_Mathematics_and_Statistics.html"><div class="navi">+ 8.4 Mathematics and Statistics </div></a></li>
<li class="navi"><a href="REF_Features_string_functions.html"><div class="navi">+ 8.5 String Functions </div></a></li>
<li class="navi"><a href="REF_Features_date_and_time_functions.html"><div class="navi">+ 8.6 Date and Time Functions </div></a></li>
<li class="navi"><a href="REF_Features_parameter_set_functions.html"><div class="navi">+ 8.7 Parameter Set Functions </div></a></li>
<li class="navi"><a href="REF_Features_table_functions.html"><div class="navi">+ 8.8 Table Functions </div></a></li>
<li class="navi"><a href="REF_Features_variables_functions.html"><div class="navi">+ 8.9 Variables Functions </div></a></li>
<li class="navi"><a href="REF_Features_directory_and_file_system_functions.html"><div class="navi">+ 8.10 Directory and File System Functions </div></a></li>
<li class="navi"><a href="REF_Features_system_functions.html"><div class="navi">+ 8.11 System Functions </div></a></li>
<li class="navi"><a href="REF_Features_help_and_support_functions.html"><div class="navi">+ 8.12 Help and Support Functions </div></a></li>
<li class="navi"><a href="REF_Features_Cross-functional_info.html"><div class="navi">+ 8.13 Cross-Functional Info </div></a></li>
</ul></li>
<li class="navi"><a href="REF_Features_verbose.html"><div class="navi"> Verbose Levels </div></a></li>
</ul>
	</div>

	<div class="article">
<h4> Introduction</h4>
<p>
Ad-hoc operators are features which apply an immediate action on the variable or table field referenced.
The increment and decrement operators (++ and --) common in C/C++, Java and Python are just two of a variety
of ad-hoc operators.  Ad-hoc operators can be applied in following ways:

</p><ul class="bullets"><li class="bullets">Stand-alone use
<ul class="bullets"><li class="bullets">As prefix: <b>++a[];</b>
</li><li class="bullets">As postfix: <b>a[]--;</b>
</li></ul></li><li class="bullets">As part of a left-hand expression of assignments
<ul class="bullets"><li class="bullets">As postfix: <b>a[]++ = 1;</b> (Prefix use would not make sense as it increments the value before being overwritten.
</li></ul></li><li class="bullets">As part of a right-hand expression of
<ul class="bullets"><li class="bullets">As prefix: <b>b[] = 3 + ++a[];</b>
</li><li class="bullets">As postfix: <b>b[] = 3 + a[]++;</b>
</li><li class="bullets">Combination of prefix and postfix use is allowed, e.g. <b>++a[]--</b>.  Actually, (a[]+1) in an expression is more meaningful.
</li><li class="bullets">In parameters for function calls, e.g. <b>echo( ++a[] )</b>
</li></ul></li></ul><p>

</p><table class="noframe bold_column_1" style = "width:1000px"><col style = "width:100px"><col style = "width:900px">
<tr><td>++      </td><td> Increment</td></tr>
<tr><td>--      </td><td> Decrement</td></tr>
<tr><td>++(<i>n</i>)    </td><td> Increment by specified numeral or numeric expression (negative values will obviously decrement the target value)</td></tr>
<tr><td>--(<i>n</i>)    </td><td> Decrement by specified numeral or numeric expression (negative values will obviously increment the target value)</td></tr>
<tr><td>**(<i>n</i>)  </td><td> Apply scaling factor, with numeral or numeric expression in parentheses.  An equivalent symbol for division does                not exist.  Use a reciprocal value in combination with the scaling factor instead.</td></tr>
</table><p>
<u>Note</u>: The two consecutive characters need to be written together without spaces.  Otherwise they are recognized as
plus, minus and multiplication symbols.  False example: <b>c[] = - - a[];</b> where the value of a[] is negated twice and
assigned to c[].

Ad-hoc operators are allowed on target value with following types:
</p><ul class="bullets"><li class="bullets">Numerals
</li><li class="bullets">Blank literals, which are treated as 0
</li><li class="bullets">Non-blank literals: All ad-hoc operations will be ignored.  No error messages occur, which may be beneficial when processing tables with mix of numbers and text
</li><li class="bullets">Dates:
<ul class="bullets"><li class="bullets">If containing dates: +/-1 represents next/previous days
</li><li class="bullets">If containing times: For example Adding a fraction of 1, e.g. <b>**(0.25)</b> for 6 hous, is possible
</li></ul></li><li class="bullets">Parameter sets: All elements, including nested ones, are affected
</li><li class="bullets">Booleans: ++ sets to true -- sets to false.
</li></ul><p>
Ad-hoc operators can be applied on variable as well as table cells.  However following restrictions apply:

</p><ul class="bullets"><li class="bullets">Applying ad-hoc operators on unknown variables.
<ul class="bullets"><li class="bullets">Exception to rule: Post-fix use in assignments, e.g. <b>b[]++ = 3;</b> because the incrementation is carried out after the assignemnt is completed.
</li></ul></li><li class="bullets">Variables where specific protections apply (read only)
</li><li class="bullets">Ad-hoc operators are not allowed in <a class="bold_text" href="REF_Features_Transactions.html">transactions</a>, e.g. <b>a[]++ <== b[];</b>
</li><li class="bullets">They are also not allowed in function call requiring variables as code pices, e.g. in <a class="bold_text" href="REF_Function_dim.html">dim</a>(), <a class="bold_text" href="REF_Function_protect.html">protect</a>(), etc.
</li><li class="bullets">Ad-hoc operatoros on multiple table cells (e.g. in <a class="bold_text" href="REF_Features_horizontal_table_access.html">horizontal table access</a>).  Only single cells are allowed.
</li></ul><p>
B4P provides following ad-hoc operators;

<br><br>
Ad-hoc operators can also be cascaded, e.g. <b>a[]++ ++</b>, <b>a[] **(3) ++</b>. Following restriction applies: All scaling operations must
happen before ++ and/or -- operators.  Not valid: <b>a[] ++ **(3)</b>.  However <b>++a[]**(3)</b> is OK.</p>
<h5> </h5>
<div class="code_background_color" ><code>&nbsp;&nbsp;a[]&nbsp;= 10;<br/>
&nbsp;&nbsp;b[]&nbsp;= 20;<br/>
&nbsp;&nbsp;d[]&nbsp;= 30;<br/>
<br/>
&nbsp;&nbsp;echo("Demonstrate&nbsp;ad-hoc operations in right-hand expressions:");<br/>
<br/>
&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;10&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;11&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;11<br/>
&nbsp;&nbsp;echo(&nbsp;a[]++, ' ', a[]--, ' ', --a[], ' ', ++ ++a[] );<br/>
<br/>
&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;22&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;22&nbsp;-&gt; 66&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6<br/>
&nbsp;&nbsp;echo(&nbsp;**(2)a[], ' ', a[]**(3), ' ', **(1/11)a[] );<br/>
<br/>
&nbsp;&nbsp;x[]&nbsp;= --(2) a[]++;&nbsp;&nbsp;// Decrement a by 2, assign, then increment by 1. Result: 4, 5<br/>
<br/>
&nbsp;&nbsp;echo(&nbsp;x[], ' ', a[]);<br/>
<br/>
&nbsp;&nbsp;echo(new&nbsp;line, "Demonstrate ad-hoc operations in left-hand expressions:");<br/>
<br/>
&nbsp;&nbsp;e[]++&nbsp;= b[];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// becomes 21<br/>
&nbsp;&nbsp;f[]**(2)&nbsp;= 10;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// becomes 20<br/>
<br/>
&nbsp;&nbsp;echo(&nbsp;e[], ' ', f[]) ;<br/>
<br/>
&nbsp;&nbsp;echo(new&nbsp;line, "Demonstrate stand-alone ad-hoc operations:");<br/>
<br/>
&nbsp;&nbsp;d[]++;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Simple one, 31.<br/>
&nbsp;&nbsp;**(2)e[]--;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Double 21 to 42, subract by 1 becomes 41.<br/>
<br/>
&nbsp;&nbsp;echo(&nbsp;d[], ' ', e[]) ;<br/>
<br/>
&nbsp;&nbsp;echo(new&nbsp;line, "Demonstrate stand-alone ad-hoc operations in tables:");<br/>
<br/>
&nbsp;&nbsp;table&nbsp;create ( t );&nbsp;&nbsp;&nbsp;&nbsp;// Ad-hoc operators applied on table cells<br/>
<br/>
&nbsp;&nbsp;[t:0,0]++;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Table entry was blank. Arithmetics interpret blanks as zero;&nbsp;&nbsp;Contains 1.<br/>
&nbsp;&nbsp;[t:0,0]**(3);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Multiplied by 3.<br/>
&nbsp;&nbsp;echo(&nbsp;[t:0,0] );&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// 3<br/>
<br/>
&nbsp;&nbsp;echo(new&nbsp;line, "Demonstrate stand-alone ad-hoc operations with dates:");<br/>
<br/>
&nbsp;&nbsp;d[]&nbsp;= date( "2020-08-01 18:30:00" );<br/>
&nbsp;&nbsp;echo(&nbsp;--d[] ); // Previous day<br/>
&nbsp;&nbsp;echo(&nbsp;++(0.5)d[] ); // Next day, 06:30<br/>
<br/>
&nbsp;&nbsp;echo(new&nbsp;line, "Demonstrate stand-alone ad-hoc operations with parameter sets:");<br/>
<br/>
&nbsp;&nbsp;a[]&nbsp;= { 1, 2, 5, 10, { 20, 50 } };<br/>
&nbsp;&nbsp;a[]++;<br/>
&nbsp;&nbsp;echo(a[]);</code></div>
<h5> </h5>
<div class="output_background_color" ><code>Demonstrate&nbsp;ad-hoc&nbsp;operations&nbsp;in&nbsp;right-hand&nbsp;expressions:<br/>
10&nbsp;11&nbsp;9&nbsp;11<br/>
22&nbsp;22&nbsp;6<br/>
4&nbsp;5<br/>
<br/>
Demonstrate&nbsp;ad-hoc&nbsp;operations&nbsp;in&nbsp;left-hand&nbsp;expressions:<br/>
21&nbsp;20<br/>
<br/>
Demonstrate&nbsp;stand-alone&nbsp;ad-hoc&nbsp;operations:<br/>
31&nbsp;41<br/>
<br/>
Demonstrate&nbsp;stand-alone&nbsp;ad-hoc&nbsp;operations&nbsp;in&nbsp;tables:<br/>
3<br/>
<br/>
Demonstrate&nbsp;stand-alone&nbsp;ad-hoc&nbsp;operations&nbsp;with&nbsp;dates:<br/>
2020-07-31&nbsp;18:30:00<br/>
2020-08-01&nbsp;06:30:00<br/>
<br/>
Demonstrate&nbsp;stand-alone&nbsp;ad-hoc&nbsp;operations&nbsp;with&nbsp;parameter&nbsp;sets:<br/>
{2,3,6,11,{21,51}}<br/>
</code></div><u>Try it yourself:</u> Open <b>REF_Features_ad-hoc_operators.b4p</b> in <a class="bold_text" href="B4P_Examples.zip">B4P_Examples.zip</a>. Decompress before use.
<h4> See also</h4>
<p><a class = "bold_text" href="REF_Features_ad-hoc_operators_overview.html">Ad-hoc operators overview</a></p>
	</div>
</section>

<div class="footer">
Copyright (C) 2007 - 2020 Georg zur Bonsen
</div>

</div>

</html>	


