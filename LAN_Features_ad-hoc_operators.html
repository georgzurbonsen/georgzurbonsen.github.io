<!DOCTYPE html>
<html lang="en-US">	

<head>
<meta charset="utf-8"/>
<title>B4P Reference</title>
<link rel="stylesheet" href="styles.css">
</head>


<div class="wrapper">

<div class="logo">
<a href="index.html">
<img src="Images/B4P_Logo.png" alt="B4P">
</a>
</div>

<div class="header">
<h3>Ad-hoc Operators</h3>
<a accesskey="p" href="LAN_Features_deep_assignment_operators.html"><span>Prev</span></a> <a accesskey="n" href="LAN_Features_cascading_ad-hoc_operators.html"><span>Next</span></a> 
</div>

<section>
	<div class="nav">
<div class="booktitle_field">B4P Language</div>
<ul>
<li class="navi"><a href="LAN_Features_Table_of_Contents.html"><div class="navi"> Table of Contents </div></a></li>
<li class="navi"><a href="LAN_Features_B4P_Language.html"><div class="navi">1 Language Guide - Overview </div></a></li>
<li class="navi"><a href="LAN_Features_The_Language.html"><div class="navi">+ 2 The Language </div></a></li>
<li class="navi"><a href="LAN_Features_Variable.html"><div class="navi">+ 3 Variables </div></a></li>
<li class="navi"><a href="LAN_Features_tables.html"><div class="navi">+ 4 Tables </div></a></li>
<li class="navi"><a href="LAN_Features_assignments.html"><div class="navi">5 Assignments and Expressions </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="LAN_Features_unary_operators.html"><div class="navi">5.1 Unary Operators </div></a></li>
<li class="navi"><a href="LAN_Features_binary_operators.html"><div class="navi">+ 5.2 Binary Operators </div></a></li>
<li class="navi"><a href="LAN_Features_deep_operators.html"><div class="navi">+ 5.3 Deep Operators </div></a></li>
<li class="navi"><a href="LAN_Features_Assignment_operator.html"><div class="navi">5.4 Assignment operators </div></a></li>
<li class="navi"><a href="LAN_Features_deep_assignment_operators.html"><div class="navi">5.5 Deep Assignment Operators </div></a></li>
<li class="navi"><a href="LAN_Features_ad-hoc_operators.html"><div class="navi navi-selected">5.6 Ad-hoc Operators </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="LAN_Features_cascading_ad-hoc_operators.html"><div class="navi">5.6.1 Cascading ad-hoc Operators </div></a></li>
<li class="navi"><a href="LAN_Features_ad-hoc_operators_overview.html"><div class="navi">5.6.2 Ad-hoc Operators Overview </div></a></li>
</ul></li>
</ul></li>
<li class="navi"><a href="LAN_Features_Transactions.html"><div class="navi">+ 6 Transactions </div></a></li>
<li class="navi"><a href="LAN_Features_Functions_and_Procedures.html"><div class="navi">+ 7 Functions and Procedures </div></a></li>
<li class="navi"><div>  </div></li>
<li class="navi"><div>  </div></li>
<li class="navi"><div>  </div></li>
<li class="navi"><a href="LAN_Features_Index.html"><div class="navi"> Index </div></a></li>
<li class="navi"><div>  </div></li>
<li class="navi"><div>  </div></li>
<li class="navi"><div>  </div></li>
<li class="navi"><a href="GUI_Features_User_Guide.html"><div class="navi"> &#8594; B4P Analytic Engine </div></a></li>
<li class="navi"><a href="LIB_Features_Function_Library.html"><div class="navi"> &#8594; B4P Function Library Guide </div></a></li>
</ul>
	</div>

	<div class="article">
<h4> Introduction</h4>
<p>
Ad-hoc operators are features which apply an immediate action on the variable or table field referenced.
The increment and decrement operators (++ and --) common in C/C++, Java and Python are just two of a variety
of ad-hoc operators.  Ad-hoc operators can be applied in following ways:

</p><ul class="bullets"><li class="bullets">Stand-alone use
<ul class="bullets"><li class="bullets">As prefix: <b>++a[];</b>
</li><li class="bullets">As postfix: <b>a[]--;</b>
</li></ul></li><li class="bullets">As part of a left-hand expression of assignments
<ul class="bullets"><li class="bullets">As postfix: <b>a[]++ = 1;</b> (Prefix use would not make sense as it increments the value before being overwritten.
</li></ul></li><li class="bullets">As part of a right-hand expression of
<ul class="bullets"><li class="bullets">As prefix: <b>b[] = 3 + ++a[];</b>
</li><li class="bullets">As postfix: <b>b[] = 3 + a[]++;</b>
</li><li class="bullets">Combination of prefix and postfix use is allowed, e.g. <b>++a[]--</b>.  Actually, (a[]+1) in an expression is more meaningful.
</li><li class="bullets">In parameters for function calls, e.g. <b>echo( ++a[] )</b>
</li></ul></li></ul><p>

</p><table class="noframe bold_column_1" style = "width:1000px"><col style = "width:100px"><col style = "width:900px">
<tr><td>++      </td><td> Increment</td></tr>
<tr><td>--      </td><td> Decrement</td></tr>
<tr><td>++(<i>n</i>)    </td><td> Increment by specified numeral or numeric expression (negative values will obviously decrement the target value)</td></tr>
<tr><td>--(<i>n</i>)    </td><td> Decrement by specified numeral or numeric expression (negative values will obviously increment the target value)</td></tr>
<tr><td>**(<i>n</i>)  </td><td> Apply scaling factor, with numeral or numeric expression in parentheses.  An equivalent symbol for division does                not exist.  Use a reciprocal value in combination with the scaling factor instead.</td></tr>
</table><p>
<u>Note</u>: The two consecutive characters need to be written together without spaces.  Otherwise they are recognized as
plus, minus and multiplication symbols.  False example: <b>c[] = - - a[];</b> where the value of a[] is negated twice and
assigned to c[].

Ad-hoc operators are allowed on target value with following types:
</p><ul class="bullets"><li class="bullets">Numerals
</li><li class="bullets">Blank strings, which are treated as 0
</li><li class="bullets">Non-blank strings: All ad-hoc operations will be ignored.  No error messages occur, which may be beneficial when processing tables with mix of numbers and text
</li><li class="bullets">Dates:
<ul class="bullets"><li class="bullets">If containing dates: +/-1 represents next/previous days
</li><li class="bullets">If containing times: For example Adding a fraction of 1, e.g. <b>**(0.25)</b> for 6 hous, is possible
</li></ul></li><li class="bullets">Parameter sets: All elements, including nested ones, are affected
</li><li class="bullets">Booleans: ++ sets to true -- sets to false.
</li></ul><p>
Ad-hoc operators can be applied on variable as well as table cells.  However following restrictions apply:

</p><ul class="bullets"><li class="bullets">Applying ad-hoc operators on unknown variables.
<ul class="bullets"><li class="bullets">Exception to rule: Post-fix use in assignments, e.g. <b>b[]++ = 3;</b> because the incrementation is carried out after the assignemnt is completed.
</li></ul></li><li class="bullets">Variables where specific protections apply (read only)
</li><li class="bullets">Ad-hoc operators are not allowed in <a class="bold_text" href="LAN_Features_Transactions.html">transactions</a>, e.g. <b>a[]++ <== b[];</b>
</li><li class="bullets">They are also not allowed in function call requiring variables as code pices, e.g. in <a class="bold_text" href="LIB_Function_dim.html">dim</a>(), <a class="bold_text" href="LIB_Function_protect.html">protect</a>(), etc.
</li><li class="bullets">Ad-hoc operatoros on multiple table cells (e.g. in <a class="bold_text" href="LAN_Features_horizontal_table_access.html">horizontal table access</a>).  Only single cells are allowed.
</li></ul><p>
B4P provides following ad-hoc operators;

<br><br>
Ad-hoc operators can also be cascaded, e.g. <b>a[]++ ++</b>, <b>a[] **(3) ++</b>. Following restriction applies: All scaling operations must
happen before ++ and/or -- operators.  Not valid: <b>a[] ++ **(3)</b>.  However <b>++a[]**(3)</b> is OK.</p>
<h5> </h5>
<div class="code_background_color" ><code>&nbsp;&nbsp;a[] = 10;<br/>
&nbsp;&nbsp;b[] = 20;<br/>
&nbsp;&nbsp;d[] = 30;<br/>
<br/>
&nbsp;&nbsp;echo("Demonstrate ad-hoc operations in right-hand expressions:");<br/>
<br/>
&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;10&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;11&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;11<br/>
&nbsp;&nbsp;echo( a[]++, ' ', a[]--, ' ', --a[], ' ', ++ ++a[] );<br/>
<br/>
&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;22&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;22 -&gt; 66&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6<br/>
&nbsp;&nbsp;echo( **(2)a[], ' ', a[]**(3), ' ', **(1/11)a[] );<br/>
<br/>
&nbsp;&nbsp;x[] = --(2) a[]++;&nbsp;&nbsp;// Decrement a by 2, assign, then increment by 1. Result: 4, 5<br/>
<br/>
&nbsp;&nbsp;echo( x[], ' ', a[]);<br/>
<br/>
&nbsp;&nbsp;echo(new line, "Demonstrate ad-hoc operations in left-hand expressions:");<br/>
<br/>
&nbsp;&nbsp;e[]++ = b[];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// becomes 21<br/>
&nbsp;&nbsp;f[]**(2) = 10;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// becomes 20<br/>
<br/>
&nbsp;&nbsp;echo( e[], ' ', f[]) ;<br/>
<br/>
&nbsp;&nbsp;echo(new line, "Demonstrate stand-alone ad-hoc operations:");<br/>
<br/>
&nbsp;&nbsp;d[]++;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Simple one, 31.<br/>
&nbsp;&nbsp;**(2)e[]--;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Double 21 to 42, subract by 1 becomes 41.<br/>
<br/>
&nbsp;&nbsp;echo( d[], ' ', e[]) ;<br/>
<br/>
&nbsp;&nbsp;echo(new line, "Demonstrate stand-alone ad-hoc operations in tables:");<br/>
<br/>
&nbsp;&nbsp;table create ( t );&nbsp;&nbsp;&nbsp;&nbsp;// Ad-hoc operators applied on table cells<br/>
<br/>
&nbsp;&nbsp;[t:0,0]++;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Table entry was blank. Arithmetics interpret blanks as zero;&nbsp;&nbsp;Contains 1.<br/>
&nbsp;&nbsp;[t:0,0]**(3);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Multiplied by 3.<br/>
&nbsp;&nbsp;echo( [t:0,0] );&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// 3<br/>
<br/>
&nbsp;&nbsp;echo(new line, "Demonstrate stand-alone ad-hoc operations with dates:");<br/>
<br/>
&nbsp;&nbsp;d[] = date( "2020-08-01 18:30:00" );<br/>
&nbsp;&nbsp;echo( --d[] ); // Previous day<br/>
&nbsp;&nbsp;echo( ++(0.5)d[] ); // Next day, 06:30<br/>
<br/>
&nbsp;&nbsp;echo(new line, "Demonstrate stand-alone ad-hoc operations with parameter sets:");<br/>
<br/>
&nbsp;&nbsp;a[] = { 1, 2, 5, 10, { 20, 50 } };<br/>
&nbsp;&nbsp;a[]++;<br/>
&nbsp;&nbsp;echo(a[]);</code></div>
<h5> </h5>
<div class="output_background_color" ><code>Demonstrate ad-hoc operations in right-hand expressions:<br>10 11 9 11<br>22 22 6<br>4 5<br><br>Demonstrate ad-hoc operations in left-hand expressions:<br>21 20<br><br>Demonstrate stand-alone ad-hoc operations:<br>31 41<br><br>Demonstrate stand-alone ad-hoc operations in tables:<br>3<br><br>Demonstrate stand-alone ad-hoc operations with dates:<br>2020-07-31 18:30:00<br>2020-08-01 06:30:00<br><br>Demonstrate stand-alone ad-hoc operations with parameter sets:<br>{2,3,6,11,{21,51}}<br></code></div><u>Try it yourself:</u> Open <b>LAN_Features_ad-hoc_operators.b4p</b> in <a class="bold_text" href="B4P_Examples.zip">B4P_Examples.zip</a>. Decompress before use.
<h4> See also</h4>
<p><a class = "bold_text" href="LAN_Features_ad-hoc_operators_overview.html">Ad-hoc operators overview</a></p>
	</div>
</section>

<div class="footer">
Copyright (C) 2007 - 2021 Georg zur Bonsen, All Rights Reserved
</div>

</div>

</html>	


