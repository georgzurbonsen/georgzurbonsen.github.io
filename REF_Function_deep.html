<!DOCTYPE html>
<html lang="en-US">	

<head>
<meta charset="utf-8"/>
<title>B4P Reference</title>
<link rel="stylesheet" href="styles.css">
</head>


<div class="wrapper">

<div class="logo">
<a href="index.html">
<img src="Images/B4P_Logo.png" alt="Beyond4P">
</a>
</div>

<div class="header">
<h3>deep, deepr</h3>
<a accesskey="p" href="REF_Function_call.html"><span>Prev</span></a> <a accesskey="n" href="REF_Function_statements.html"><span>Next</span></a> 
</div>

<section>
	<div class="nav">
<div class="booktitle_field">Reference Manual</div>
<ul>
<li class="navi"><a href="GUI_Features_Table_of_Contents.html"><div class="navi"> &#8594; User Guide </div></a></li>
<li class="navi"><a href="REF_Features_Table_of_Contents.html"><div class="navi"> Table of Contents </div></a></li>
<li class="navi"><a href="REF_Features_starting.html"><div class="navi">1 Starting B4P </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="REF_Features_interactive.html"><div class="navi">1.1 Interactive Mode </div></a></li>
<li class="navi"><a href="REF_Features_licensing.html"><div class="navi">1.2 Licensing </div></a></li>
</ul></li>
<li class="navi"><a href="REF_Features_introduction.html"><div class="navi">2 Introduction </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="REF_Features_UNICODE_character_set.html"><div class="navi">2.1 UNICODE Character Set </div></a></li>
<li class="navi"><a href="REF_Features_data_types.html"><div class="navi">2.2 Basic Data Types </div></a></li>
<li class="navi"><a href="REF_Features_variables.html"><div class="navi">2.3 Variables </div></a></li>
<li class="navi"><a href="REF_Features_comments.html"><div class="navi">2.4 Comments </div></a></li>
<li class="navi"><a href="REF_Features_reserved_keywords.html"><div class="navi">2.5 Reserved keywords </div></a></li>
<li class="navi"><a href="REF_Features_path_names.html"><div class="navi">2.6 Path and File Names </div></a></li>
<li class="navi"><a href="REF_Features_Locales.html"><div class="navi">2.7 Locales </div></a></li>
</ul></li>
<li class="navi"><a href="REF_Features_Functions_and_Procedures.html"><div class="navi">3 Functions and Procedures </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="REF_Features_Function_Parameters.html"><div class="navi">3.1 Function Parameters </div></a></li>
<li class="navi"><a href="REF_Features_Function_parameter_directions.html"><div class="navi">3.2 Function Parameter Directions </div></a></li>
<li class="navi"><a href="REF_Features_Function_parameter_types.html"><div class="navi">3.3 Function Parameter Types </div></a></li>
<li class="navi"><a href="REF_Features_Indirect_parameter_passing.html"><div class="navi">3.4 Indirect Parameter Passing </div></a></li>
</ul></li>
<li class="navi"><a href="REF_Features_Function_Library.html"><div class="navi">4 Function Library </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="REF_Features_Control_Flow_Functions.html"><div class="navi">4.1 Control Flow Functions </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="REF_Features_Loops.html"><div class="navi">4.1.1 Loops </div></a></li>
<li class="navi"><a href="REF_Features_Branches.html"><div class="navi">4.1.2 Branches </div></a></li>
<li class="navi"><a href="REF_Features_User_Defined_Procedures_and_Functiions.html"><div class="navi">4.1.3 User-Defined Procedures and Functions </div></a></li>
<li class="navi"><a href="REF_Features_Start_or_include_Beyond4P_Programs.html"><div class="navi">4.1.4 Start or include Beyond4P Programs </div></a></li>
<li class="navi"><a href="REF_Features_Exception_Functions.html"><div class="navi">4.1.5 Exception Functions </div></a></li>
<li class="navi"><a href="REF_Features_Comparison_and_selection_functions.html"><div class="navi">4.1.6 Comparison and Selection Functions </div></a></li>
<li class="navi"><a href="REF_Features_Code_Execution_Functions.html"><div class="navi">4.1.7 Code Execution Functions </div></a></li>
<li class="navi"><ul>
<li class="navi"><a href="REF_Function_call.html"><div class="navi">4.1.7.1 call </div></a></li>
<li class="navi"><a href="REF_Function_deep.html"><div class="navi navi-selected">4.1.7.2 deep, deepr </div></a></li>
<li class="navi"><a href="REF_Function_statements.html"><div class="navi">4.1.7.3 statements </div></a></li>
<li class="navi"><a href="REF_Function_expression.html"><div class="navi">4.1.7.4 expression </div></a></li>
<li class="navi"><a href="REF_Function_compare.html"><div class="navi">4.1.7.5 compare </div></a></li>
<li class="navi"><a href="REF_Function_assign.html"><div class="navi">4.1.7.6 assign </div></a></li>
</ul></li>
<li class="navi"><a href="REF_Features_Other_Control_Flow_Functions.html"><div class="navi">+ 4.1.8 Other Control Flow Functions </div></a></li>
</ul></li>
<li class="navi"><a href="REF_Features_input_output_functions.html"><div class="navi">+ 4.2 Input / Output Functions </div></a></li>
<li class="navi"><a href="REF_Features_Type_Conversion_Functions.html"><div class="navi">+ 4.3 Type Conversion and Formatting Functions </div></a></li>
<li class="navi"><a href="REF_Features_Mathematics_and_Statistics.html"><div class="navi">+ 4.4 Mathematics and Statistics </div></a></li>
<li class="navi"><a href="REF_Features_string_functions.html"><div class="navi">+ 4.5 String Functions </div></a></li>
<li class="navi"><a href="REF_Features_date_and_time_functions.html"><div class="navi">+ 4.6 Date and Time Functions </div></a></li>
<li class="navi"><a href="REF_Features_parameter_set_functions.html"><div class="navi">+ 4.7 Parameter Set Functions </div></a></li>
<li class="navi"><a href="REF_Features_table_functions.html"><div class="navi">+ 4.8 Table Functions </div></a></li>
<li class="navi"><a href="REF_Features_variables_functions.html"><div class="navi">+ 4.9 Variables Functions </div></a></li>
<li class="navi"><a href="REF_Features_directory_and_file_system_functions.html"><div class="navi">+ 4.10 Directory and File System Functions </div></a></li>
<li class="navi"><a href="REF_Features_system_functions.html"><div class="navi">+ 4.11 System Functions </div></a></li>
<li class="navi"><a href="REF_Features_Cross-functional_info.html"><div class="navi">+ 4.12 Cross-Functional Info </div></a></li>
</ul></li>
<li class="navi"><a href="REF_Features_verbose.html"><div class="navi"> Verbose Levels </div></a></li>
</ul>
	</div>

	<div class="article">
<h4> Function Names</h4>
<div class="white_background_color" ><code>deep, deepr</code></div>
<h4> Description</h4>
<p>
These functions complement the __deep operators (e.g. +^) where the specified function will be applied on all elements in the parameter sets provided.
The depth is also adjustable and is by default 1 (corresponding to operators like +^), but can also be increased (e.g. 2 corresponding  to +^^)
to process contents in 2-dimensinoal matrices.
<br><br>
Restrictions:<br>
</p><ul class="bullets"><li class="bullets">No flow control functions
</li><li class="bullets">Functions taking code pieces must take them as strings.  The variables in the code piece are used as given (no deep operations).
</li><li class="bullets">For functions with I/O parameters, e.g. exchange(), the function itself will be called successfully, but resulting parameters will not be written back.
</li></ul><p>Allowed: User defined functions.
<br><br>
The differences in the functions deep and deepr come into effect if the size of the parameter sets are different so the remaining elements in the shorter sets
need to be repeated or padded with 0 or 1 as long they are not treated as scalars:
<br><br>
<b>deep</b>:  Elements are padded with 0 or, if 4th parameter (padding) is available, with the padding value.  Example: <b>{1,2} --> {1,2,0,0,0,0}</b> if largest parameter has 6 elements<br>
<b>deepr</b>: Elements are repeated over and over again^.  Example: <b>{1,2} --> {1,2,1,2,1,2}</b> if largest parameter has 6 elements.  If the number of elements is 0, then padding is used (see <b>deep</b>).
</p>
<h4> Call as: <span class="black_text">procedure or function</span></h4>
<h4> Restrictions</h4>
<p>Indirect parameter passing is disabled<br/>
Limited choice of function names, see above</p>
<h4> Parameter count</h4>
<p>2, 4</p>
<h4> Parameters</h4>
<table class="simple"><col style = "width:80px"><col style = "width:120px"><col style = "width:800px"><tr><th>No.</th><th>Type</th><th>Description</th></tr>
<tr><td>1<br/>input</td>
<td>literal</td>
<td><b>Function name</b><br/><p>The name must refer to an existing B4P or user-defined function.</p>
</td></tr>
<tr><td>2<br/>input</td>
<td>parameter set</td>
<td><b>Function parameters</b><br/><p>At least one element in this parameter set must in turn be a parameter set which will be processed individually.</p>
</td></tr>
<tr><td>Opt. 3<br/>input</td>
<td>numeral</td>
<td><b>Depth</b><br/><p>The name must refer to an existing B4P or user-defined function.</p>
</td></tr>
<tr><td>Opt. 4<br/>input</td>
<td>valid types</td>
<td><b>Padding vluae</b><br/><p>This value will be used to fill up parameter sets so the number of elements are the same before processing them</p>
<span class="black_text"><b> Default value: </b></span>0
</td></tr>
</table>
<h4> Return value</h4>
<table class="simple"><col style = "width:120px"><col style = "width:880px"><tr><th>Type</th><th>Description</th></tr>
<tr>
<td>all types</td>
<td><b>Return value</b><br/><p>It is the return value as provided by the specified target function</p></td></tr>
</table>
<h4> Examples</h4>
<div class="code_background_color" ><code>&nbsp;&nbsp;echo(new&nbsp;line,&nbsp;"Processing&nbsp;2&nbsp;vectors&nbsp;of&nbsp;equal&nbsp;sizes:");<br/>
&nbsp;&nbsp;a[]&nbsp;=&nbsp;{1..6};&nbsp;&nbsp;b[]&nbsp;=&nbsp;7&nbsp;-^&nbsp;a[];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Output:&nbsp;b[]&nbsp;contains&nbsp;{6,5,4,3,2,1}<br/>
<br/>
&nbsp;&nbsp;echo(&nbsp;deep&nbsp;(&nbsp;sum,&nbsp;{a[],&nbsp;b[]}&nbsp;)&nbsp;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;{7,7,7,7,7,7}<br/>
&nbsp;&nbsp;echo(&nbsp;deepr(&nbsp;sum,&nbsp;{a[],&nbsp;b[]}&nbsp;)&nbsp;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;{7,7,7,7,7,7}<br/>
<br/>
&nbsp;&nbsp;echo(new&nbsp;line,&nbsp;"Processing&nbsp;1&nbsp;vector&nbsp;and&nbsp;1&nbsp;scalar:");<br/>
&nbsp;&nbsp;a[]&nbsp;=&nbsp;{1..6};&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Output:<br/>
&nbsp;&nbsp;echo(&nbsp;deep(&nbsp;sum,&nbsp;{a[],&nbsp;10}&nbsp;)&nbsp;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;{11,12,13,14,15,16},&nbsp;same&nbsp;also&nbsp;for&nbsp;deepr<br/>
&nbsp;&nbsp;echo(&nbsp;deep(&nbsp;sum,&nbsp;{20,&nbsp;a[]}&nbsp;)&nbsp;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;{21,22,23,24,25,26},&nbsp;same&nbsp;also&nbsp;for&nbsp;deepr<br/>
<br/>
<br/>
&nbsp;&nbsp;echo(new&nbsp;line,&nbsp;"Processing&nbsp;with&nbsp;2&nbsp;vectors&nbsp;of&nbsp;different&nbsp;sizes:",&nbsp;new&nbsp;line,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Shorter&nbsp;vectors&nbsp;are&nbsp;extended&nbsp;to&nbsp;match&nbsp;length&nbsp;of&nbsp;longest&nbsp;one:");<br/>
&nbsp;&nbsp;a[]&nbsp;=&nbsp;{1..6};&nbsp;&nbsp;b[]&nbsp;=&nbsp;{10,20};&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Output:<br/>
<br/>
&nbsp;&nbsp;echo(&nbsp;deep&nbsp;(&nbsp;sum,&nbsp;{a[],&nbsp;b[]}&nbsp;)&nbsp;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;{11,22,3,4,5,6}&nbsp;&nbsp;(shorter&nbsp;vector&nbsp;padded&nbsp;with&nbsp;0)<br/>
&nbsp;&nbsp;echo(&nbsp;deep&nbsp;(&nbsp;sum,&nbsp;{a[],&nbsp;b[]},&nbsp;1,&nbsp;0)&nbsp;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;{11,22,3,4,5,6}&nbsp;&nbsp;(shorter&nbsp;vector&nbsp;padded&nbsp;with&nbsp;0)<br/>
&nbsp;&nbsp;echo(&nbsp;deep&nbsp;(&nbsp;sum,&nbsp;{a[],&nbsp;b[]},&nbsp;1,&nbsp;1)&nbsp;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;{11,22,4,5,6,7}&nbsp;&nbsp;(shorter&nbsp;vector&nbsp;padded&nbsp;with&nbsp;1)<br/>
&nbsp;&nbsp;echo(&nbsp;deepr(&nbsp;sum,&nbsp;{a[],&nbsp;b[]}&nbsp;)&nbsp;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;{11,22,13,24,15,26}&nbsp;(shorter&nbsp;vector&nbsp;repeated)<br/>
<br/>
&nbsp;&nbsp;echo(&nbsp;deep&nbsp;(&nbsp;product,&nbsp;{a[],&nbsp;b[]}&nbsp;)&nbsp;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;{10,40,0,0,0,0}<br/>
&nbsp;&nbsp;echo(&nbsp;deep&nbsp;(&nbsp;product,&nbsp;{a[],&nbsp;b[]},&nbsp;1,&nbsp;0&nbsp;)&nbsp;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;{10,40,0,0,0,0}<br/>
&nbsp;&nbsp;echo(&nbsp;deep&nbsp;(&nbsp;product,&nbsp;{a[],&nbsp;b[]},&nbsp;1,&nbsp;1&nbsp;)&nbsp;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;{10,40,3,4,5,6}<br/>
&nbsp;&nbsp;echo(&nbsp;deepr(&nbsp;product,&nbsp;{a[],&nbsp;b[]}&nbsp;)&nbsp;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;{10,40,30,80,50,120}<br/>
<br/>
&nbsp;&nbsp;echo(new&nbsp;line,&nbsp;"Example&nbsp;with&nbsp;3&nbsp;vectors&nbsp;of&nbsp;different&nbsp;sizes:");<br/>
&nbsp;&nbsp;a[]={1};&nbsp;b[]={10,11};&nbsp;c[]={100,101,102};&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Output<br/>
&nbsp;&nbsp;echo(&nbsp;deep&nbsp;(&nbsp;sum,&nbsp;{a[],b[],c[]}&nbsp;)&nbsp;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;{111,112,102}<br/>
&nbsp;&nbsp;echo(&nbsp;deep&nbsp;(&nbsp;sum,&nbsp;{a[],b[],c[]},&nbsp;1,&nbsp;1&nbsp;)&nbsp;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;{111,113,104}<br/>
&nbsp;&nbsp;echo(&nbsp;deepr(&nbsp;sum,&nbsp;{a[],b[],c[]}&nbsp;)&nbsp;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;{111,113,113}<br/>
<br/>
&nbsp;&nbsp;echo(new&nbsp;line,&nbsp;"Example&nbsp;with&nbsp;2-dimensional&nbsp;Vectors:");<br/>
&nbsp;&nbsp;a[]&nbsp;=&nbsp;{{1..5},{11..15},{21..25}};<br/>
&nbsp;&nbsp;b[]&nbsp;=&nbsp;a[]*^^2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;b[]&nbsp;contains&nbsp;{{2,4,6,8,10},…&nbsp;}&nbsp;all&nbsp;values&nbsp;doubled<br/>
&nbsp;&nbsp;echo(&nbsp;deep(&nbsp;sum,&nbsp;{a[],&nbsp;1},&nbsp;2&nbsp;)&nbsp;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;{{2,3,4,5,6},{12,13,14,15,16},{22,23,24,25,26}}<br/>
&nbsp;&nbsp;echo(&nbsp;deep(&nbsp;sum,&nbsp;{a[],&nbsp;{1,2,3}},2&nbsp;)&nbsp;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;{{2,3,4,5,6},{13,14,15,16,17},{24,25,26,27,28}}<br/>
&nbsp;&nbsp;echo(&nbsp;deep(&nbsp;sum,&nbsp;{a[],b[]},&nbsp;2)&nbsp;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;{{3,6,9,12,15},{33,36,39,42,45},{63,66,69,72,75}}</code></div>
<h4> Output</h4>
<div class="output_background_color" ><code>Processing&nbsp;2&nbsp;vectors&nbsp;of&nbsp;equal&nbsp;sizes:<br/>
{7,7,7,7,7,7}<br/>
{7,7,7,7,7,7}<br/>
<br/>
Processing&nbsp;1&nbsp;vector&nbsp;and&nbsp;1&nbsp;scalar:<br/>
{11,12,13,14,15,16}<br/>
{21,22,23,24,25,26}<br/>
<br/>
Processing&nbsp;with&nbsp;2&nbsp;vectors&nbsp;of&nbsp;different&nbsp;sizes:<br/>
Shorter&nbsp;vectors&nbsp;are&nbsp;extended&nbsp;to&nbsp;match&nbsp;length&nbsp;of&nbsp;longest&nbsp;one:<br/>
{11,22,3,4,5,6}<br/>
{11,22,3,4,5,6}<br/>
{11,22,4,5,6,7}<br/>
{11,22,13,24,15,26}<br/>
{10,40,0,0,0,0}<br/>
{10,40,0,0,0,0}<br/>
{10,40,3,4,5,6}<br/>
{10,40,30,80,50,120}<br/>
<br/>
Example&nbsp;with&nbsp;3&nbsp;vectors&nbsp;of&nbsp;different&nbsp;sizes:<br/>
{111,112,102}<br/>
{111,113,104}<br/>
{111,113,113}<br/>
<br/>
Example&nbsp;with&nbsp;2-dimensional&nbsp;Vectors:<br/>
{{2,3,4,5,6},{12,13,14,15,16},{22,23,24,25,26}}<br/>
{{2,3,4,5,6},{13,14,15,16,17},{24,25,26,27,28}}<br/>
{{3,6,9,12,15},{33,36,39,42,45},{63,66,69,72,75}}<br/>
</code></div><u>Try it yourself:</u> Open <b>REF_Function_deep.b4p</b> in <a class="bold_text" href="B4P_Examples.zip">B4P_Examples.zip</a>. Decompress before use.
<h4> See also</h4>
<p><a class = "bold_text" href="REF_Function_call.html">call</a></p>
	</div>
</section>

<div class="footer">
Copyright (C) 2007 - 2020 Georg zur Bonsen
</div>

</div>

</html>	


